# VG-12022-001_v09

_Converted from PDF: 2025-11-28_

---

NVIDIA GB NVL72 System
Validation Guide




                                                             VL
                                                         -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
         R




NVIDIA CONFIDENTIAL | PREPARED AND PROVIDED UNDER NDA   VG-12022-001_v09 | October 2025
Document History

VG-12022-001_v09
 Version   Date                 Authors      Description of Change
 01        September 11, 2024   JS, SM       Initial release
 02        October 3, 2024      JS, SM       > Modified doc type from “Application Note” to “Validation
                                               Guide”
                                             > Added Chapter 2 “Leveraging Guidelines for NVL36
                                               Transition to NVL72”
                                             > Updated P/F criteria for L10 and L11 box-package




                                                                           VL
                                               testing




                                                                       -N
                                             > Updated test descriptions for items under L10 and L11
                                               Reliability




                                                 s
                                             > Added guidelines on RMII NC-SI validation




                                            27 ab
                                             > Added guidelines for Input EDPp testing




                                          0: L
                                        :0 cle
 03        November 7, 2024     JS, SM       > Added PDB static and dynamic load validation for L10
                                             > Added CPU JTAG validation for L10

                                      16 r a
                                    28 l O
                                             > Updated SPI functional validation procedures
                                             > Added timing specification for SPI
                                  1- ia
                               - 1 nt


 04        December 23, 2024    JS, SM       > Updated Section 3.4.1 for L10 level input EDPp testing
                             25 fide



                                             > Updated Section 3.6.8 SGPIO electrical validation for
                                               SGPIO timing parameters
                           20 n
                         5 Co




                                             > Updated Section 5.1.8 Rack Power EDPp
                                             > Added Chapter 6 Appendix with sections on input EDPp
                       39 IA




                                               waveform capture using HiRes mode and input EDPp
                     22 ID




                                               post-processing guidelines
                  1 1 NV




 05        March 5, 2025        JS, GP, SM   > Added Section 1.2.4 related to NVNetPerf Tool
                   ah




                                             > Added Section 3.7 on network I/O board validation.
                                             > Added Section 3.9.4 on information for performing L10
                 sn




                                               partner diagnostics WAT
               Ki




                                             > Added Table 3-12 on loopback test cables for BF-3, CX-7
            ik




                                               and NVLink for partner diagnostics.
           R




                                             > Updated Table 3-18. EMC Tests Summary with updated
                                               test conditions
 06        April 14, 2025       JS, SM       > Removed line item SY.18 from Table 2-1
                                             > Updated Section 5.1.8 “Rack Power AC Apparent Power”
                                             > Updated test conditions in Table 5-1, Table 5-2, and
                                               Table 5-3
 07        July 28, 2025        GP, SM       > Updated this validation guide to make it common for
                                               both GB200 NVL72 and GB300 NVL72.
                                             > Updated the title to NVIDIA GB NVL72 System Validation
                                               Guide.
                                             > Updated Section 3.7 to cover both CX-7 and CX-8
                                               validation.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | ii
 Version   Date                 Authors   Description of Change
                                          > Updated Table 3-12 with CX-8 Loopback cable details

 08        September 10, 2025   GP, SM    Added Chapter 7 “Validation Leverage Guidance for GB300
                                          NVL72 Systems”.
 09        October 20, 2025     GP, SM    Updated system package testing information in Table 3-13
                                          and Table 5-1




                                                                       VL
                                                                  -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
           R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | iii
Table of Contents
Chapter 1.    Introduction............................................................................................................................ 1
  1.1      Partner Validation Playbook.................................................................................................... 1
  1.2      Partner Validation Toolset ....................................................................................................... 1
    1.2.1     NVQual ...................................................................................................................................... 2
    1.2.2     NVSSVT .................................................................................................................................... 2
    1.2.3     NVRASTool .............................................................................................................................. 2
    1.2.4     NVNetPerf Tool ..................................................................................................................... 2
  1.3      Minimum Hardware Configuration for Partner Validation ......................................... 3




                                                                                                                           VL
  1.4      Attachments ................................................................................................................................. 5




                                                                                                                     -N
Chapter 2.               Leveraging Guidelines for NVL36 Transition to NVL72 ........................................ 6




                                                           s
                                                      27 ab
Chapter 3.     L10 Compute Tray Hardware Validation ..................................................................... 9




                                                    0: L
  3.1      Mechanical ..................................................................................................................................... 9




                                                  :0 cle
  3.2      Thermal......................................................................................................................................... 10


                                                16 r a
    3.2.1      Host BMC Shdn, Event Logging for THERM_OVERT_N Assertion................. 10
                                              28 l O
    3.2.2      Host BMC Shdn, Event Logging for FPGA_OVERT_N Assertion .................... 11
                                            1- ia

  3.3      Liquid Cooling ............................................................................................................................ 11
                                         - 1 nt


    3.3.1      Leak Detection ................................................................................................................... 12
                                       25 fide




  3.4      Power Validation ....................................................................................................................... 14
                                     20 n




    3.4.1      Input EDP Peak Testing .................................................................................................. 14
                                   5 Co




    3.4.2      GPU Power Brake .............................................................................................................. 15
                                 39 IA




    3.4.3      Power Distribution Board Static Loads .................................................................... 16
                               22 ID




    3.4.4      Power Distribution Board Dynamic Loads .............................................................. 16
                            1 1 NV




  3.5      PCIe ................................................................................................................................................ 17
                             ah




    3.5.1      PCIe Speed and Width Configuration Check ......................................................... 17
                           sn




    3.5.2      PCIe Link Training Steady State Machine ............................................................... 18
                         Ki




  3.6      I/O Interface ............................................................................................................................... 19
                    ik




    3.6.1      CPU JTAG Scan Check from BMC .............................................................................. 20
                R




    3.6.2      Dual CPU JTAG Scan Check from BMC .................................................................... 20
    3.6.3      CPU JTAG Electrical Validation .................................................................................... 21
    3.6.4      I2C Functional Bus Scan ................................................................................................. 22
    3.6.5      I2C Electrical Validation .................................................................................................. 23
    3.6.6      SPI Functional Check ....................................................................................................... 24
    3.6.7      SPI Electrical Validation .................................................................................................. 26
    3.6.8      SGPIO Electrical Validation ............................................................................................ 27
    3.6.9      UART Functional Check .................................................................................................. 30
    3.6.10 UART Electrical Validation.............................................................................................. 31
    3.6.11 RMII Network Controller Sideband Interface ......................................................... 33



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                                                           VG-12022-001_v09 | iv
      3.6.12 RMII NC-SI Electrical Validation ................................................................................... 37
    3.7     Networking I/O Board ............................................................................................................. 41
      3.7.1    CX-7 and CX-8 Mezzanine Network Card Ethernet Validation ....................... 41
      3.7.2    CX-7 and CX-8 Mezzanine Network Card I/O Board InfiniBand Validation 49
    3.8     BMC ............................................................................................................................................... 52
      3.8.1    BMC FRU Write .................................................................................................................. 52
      3.8.2    BMC Power Control (STANDBY, RUN, AUX) ............................................................ 53
    3.9     System .......................................................................................................................................... 54
      3.9.1    System Reboot and Power Cycle Stress Testing ................................................. 54
      3.9.2    Wide Area Test ................................................................................................................... 55
      3.9.3    Reboot WAT ........................................................................................................................ 56




                                                                                                                          VL
      3.9.4    L10 Partner Diagnostics WAT ...................................................................................... 57




                                                                                                                   -N
    3.10    Environmental, Reliability, and Electromagnetic Compatibility ............................. 58




                                                          s
      3.10.1 L10 Package Testing........................................................................................................ 58




                                                     27 ab
      3.10.2 Shock and Vibration Test ............................................................................................... 60




                                                   0: L
                                                 :0 cle
      3.10.3 Environmental Reliability Test ...................................................................................... 62
      3.10.4 Electromagnetic Compatibility .................................................................................... 64
                                               16 r a
                                             28 l O
Chapter 4.    L10 Compute Tray System Software ........................................................................ 67
                                           1- ia

  4.1      System Software Validation Guidelines .......................................................................... 68
                                        - 1 nt
                                      25 fide



Chapter 5.    L11 Server Rack Hardware Validation....................................................................... 70
  5.1      Rack Power ................................................................................................................................. 70
                                    20 n
                                  5 Co




    5.1.1     Rack Power Startup and Shutdown........................................................................... 71
    5.1.2     Rack Power Startup and Shutdown without PSC ................................................ 71
                                39 IA




    5.1.3     Rack Power Load Voltage Regulators under Static Load .................................. 72
                              22 ID
                           1 1 NV




    5.1.4     Rack Power Load Voltage Regulators under Dynamic Load ............................ 73
    5.1.5     Rack Power Load Hot Swap PSU ................................................................................ 74
                            ah




    5.1.6     Rack Power Load Hot Swap PSC................................................................................. 75
                          sn




    5.1.7     Rack Power Fault Recovery ........................................................................................... 76
                        Ki




    5.1.8     Rack Power AC Apparent Power ................................................................................. 77
                   ik




    5.1.9     Rack Power Noise.............................................................................................................. 85
               R




    5.1.10 Rack Power Firmware Update ...................................................................................... 85
    5.1.11 PSC Reboot Cycles ........................................................................................................... 86
    5.1.12 Rack Power Factor ............................................................................................................ 86
  5.2      L11 Environmental, Reliability ............................................................................................. 87
    5.2.1     L11 Packaging .................................................................................................................... 87
    5.2.2     L11 Shock and Vibration Test ...................................................................................... 89
    5.2.3     L11 Environmental Reliability Test ............................................................................. 91
Chapter 6.    Appendix 1: Oscilloscope Acquisition Modes for EDPp Measurements ..... 93
  6.1      Moving Average Measurement using Oscilloscope HiRes Mode .......................... 93
  6.2      Input EDPp Post-Processing Guideline ........................................................................... 95


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                                                           VG-12022-001_v09 | v
Chapter 7.      Appendix 2: Validation Leverage Guidance for GB300 NVL72 Systems ..... 98




                                                                    VL
                                                                -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
             ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | vi
List of Figures

Figure 3-1.     CPU JTAG Electrical Validation .................................................................................... 22
Figure 3-2.     SPI Electrical Validation .................................................................................................. 26
Figure 3-3.     SGPIO Bus Overview ........................................................................................................ 28
Figure 3-4.     SGPIO Timing Diagram.................................................................................................... 28
Figure 3-5.     UART TBIT Definition.......................................................................................................... 32
Figure 3-6.     RMII NC-SI Diagram .......................................................................................................... 34
Figure 3-7.     RMII NC-SI DC Specifications ....................................................................................... 38
Figure 3-8.     RMII NC-SI AC Specifications ....................................................................................... 39




                                                                                                            VL
Figure 5-1.     L11 Power Measurement Block Diagram ................................................................ 77




                                                                                                      -N
Figure 5-2.     Power Whip Wiring Diagram ........................................................................................ 79




                                                 s
Figure 5-3.     Current Probes and Voltage Probes Setup and Power Whip .......................... 80




                                            27 ab
Figure 5-4.     Connected Power Cable and Current Probe Attachments Example ............ 82




                                          0: L
                                        :0 cle
Figure 6-1.     Acquisition Mode............................................................................................................... 94
Figure 6-2.     Oscilloscope Setting 200 µs Moving Average Example ..................................... 95

                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
              ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                                           VG-12022-001_v09 | vii
List of Tables

Table 1-1.      L10 Validation Minimum Hardware Configuration ................................................. 3
Table 1-2.      L11 Validation Minimum Hardware Configuration ................................................. 4
Table 2-1.      2RU to 1RU Compute Tray Transition Test Items ................................................... 6
Table 3-1.      Mechanical Checklist .......................................................................................................... 9
Table 3-2.      PCIe Link Specification and Minimum Hardware Configuration .................... 17
Table 3-3.      Grace CPU PCIe LTSSM .................................................................................................. 18
Table 3-4.      JTAG Timing Specification ............................................................................................ 22
Table 3-5.      SPI Timing Parameters ................................................................................................... 26




                                                                                                               VL
Table 3-6.      SGPIO Timing Parameters ............................................................................................. 28




                                                                                                         -N
Table 3-7.      UART DC Specifications.................................................................................................. 32




                                                 s
Table 3-8.      UART AC Specifications .................................................................................................. 32




                                            27 ab
Table 3-9.      List of FRU EEPROMs in GB200 and GB300 Bianca Compute Tray .............. 52




                                          0: L
                                        :0 cle
Table 3-10.     Compute Tray WAT .......................................................................................................... 56
Table 3-11.     Reboot WAT ........................................................................................................................ 56

                                      16 r a
                                    28 l O
Table 3-12.     BF-3, CX-7, CX-8, NVLink, Loopback Cable, and Test Cage .............................. 57
Table 3-13.     L10 Packaging Test Summary ..................................................................................... 58
                                  1- ia
                               - 1 nt


Table 3-14.     Shock and Vibration Test Summary .......................................................................... 60
                             25 fide




Table 3-15.     Mechanical Shock – Half Sine (Operating) .............................................................. 61
                           20 n




Table 3-16.     Mechanical Shock – Trapezoidal (Non-operating) ................................................ 61
                         5 Co




Table 3-17.     Reliability Test Summary ................................................................................................ 62
                       39 IA




Table 3-18.     EMC Tests Summary........................................................................................................ 65
                     22 ID




Table 4-1.      Reference Documentation and Collateral ............................................................... 67
                  1 1 NV




Table 4-2.      System Software Validation Example ....................................................................... 68
                   ah




Table 5-1.      L11 Packaging Test Summary ..................................................................................... 87
                 sn




Table 5-2.      L11 Shock and Vibration Test Summary ................................................................. 89
               Ki




Table 5-3.      L11 Reliability Test Summary ....................................................................................... 91
            ik




Table 6-1.      Input EDPp and Samples per Window in Sample Mode .................................... 95
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                                             VG-12022-001_v09 | viii
Chapter 1. Introduction



This validation guide describes the tools and methodologies that NVIDIA provides to
validate and test partner platforms built for the NVIDIA GB200 NVL36, GB200 NVL72,




                                                                    VL
and GB300 NVL72 systems. The validation procedure and tools in this application note




                                                                -N
are provided as a reference. Partners must supplement additional qualifications that
apply to their customization.




                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
1.1             Partner Validation Playbook
                                      16 r a
                                    28 l O
The Partner Validation Playbook (PVP) provides a systematic and standardized way to
                                  1- ia

validate NVIDIA data center products, aiming to improve test effectiveness, product
                               - 1 nt


quality, and time-to-market.
                             25 fide




The PVP is a workbook with detailed validation items for each ES, QS, and PS release
                           20 n




milestone. This validation guide complements the PVP and provides instructions about
                         5 Co




how to complete these validation line items.
                       39 IA




Refer to the GB200 NVL System Partner Validation Playbook (NVOnline: 1115639) and the
                     22 ID




GB300 NVL72 System Partner Validation Playbook (NVOnline: 1128352) for the validation
                  1 1 NV




line items. Partners should validate each validation line item to uncover potential issues
before production.
                   ah
                 sn




The validation guide may not be comprehensive in covering all test items outlined in the
               Ki




PVP. Partners should adapt the procedures outlined in this validation guide to best fit
their validation process.
            ik
          R




Partners also should report their validation status and issues using the NVOnline portal.
Refer to the NVOnline Partner Portal Guidelines (NVOnline: 1106745) for information
about the best practices on validation review requests and NVBugs submission.



1.2             Partner Validation Toolset
This section describes the toolset available for partner validation of GB200 and GB300
NVL systems. Refer to the latest GB200 NVL72 Partner Enablement Deck (NVOnline:
1114628) and GB300 NVL72 Partner Enablement Deck (NVOnline: 1124881) for the
required toolkit version for each sampling milestone.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 1
                                                                                       Introduction



1.2.1           NVQual
The NVQual program is a software program that allows partners to qualify NVIDIA
hardware in their system. Partners must run NVQual and submit the results back to
NVIDIA for review as part of their validation process.
NVQual can be downloaded from the online posting NVQual for NVIDIA Grace-Blackwell
Platforms (NVOnline: 1119931).


1.2.2           NVSSVT
NVIDIA System Software Validation Toolkit (NVSSVT) is a toolkit developed for server




                                                                          VL
platforms and includes a binary that contains the system management, performance,
and other validation suites. Partners must run the NVSSVT tool and submit the results




                                                                      -N
along with the PVP as part of the validation process.




                                                 s
                                            27 ab
NVSSVT can be downloaded from the online posting NVIDIA System Software Validation




                                          0: L
Tool (NVSSVT) (NVOnline: 1108364).




                                        :0 cle
       Note: The validation line items mentioned in this application note can be validated using the
       NVSSVT tool.
                                      16 r a
                                    28 l O
       The following procedures are for partner references only. Partners must update their test
                                  1- ia

       plans for their BMC software implementation, after referring to this application note.
                               - 1 nt
                             25 fide
                           20 n
                         5 Co




1.2.3           NVRASTool
                       39 IA




The NVIDIA Reliability, Availability, and Serviceability (RAS) Tool provides a unified way to
                     22 ID




test the RAS features of NVIDIA hardware. The tool provides test coverage for Out-Of-
                  1 1 NV




Band (OOB), In-Band hardware error, and AML software injection. NVIDIA RASTool
(NVRASTool) is available on NVOnline: 1112947.
                   ah
                 sn




       Note: The NVIDIA NVRASTool runs on a separate machine from the computer that is being
               Ki




       tested, remotely executes the tests automatically with no user intervention, and gathers
            ik




       the logs.
          R




1.2.4           NVNetPerf Tool
The NVNetPerf Tool is a performance tool that configures multiple nodes with DPU and
CX cards and tests them by running workloads to stress and identify points of failure
which might not be detected when testing individual DPU or CX cards. This
comprehensive test reduces risks associated with system deployment. Additionally, the
NVNetPerftest assesses both North-South (N-S) and East-West (E-W) network traffic,
ensuring the system operates with the most optimized and up-to-date configurations
and software. This test can detect configuration issues that are not detected testing
individual DPU or CX Cards.


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                        VG-12022-001_v09 | 2
                                                                                    Introduction


The NVNetPerf Tool and its user guide, which details the test configuration, procedure,
and performance acceptance criteria, are listed in the NVNetPerf Kit (formerly DoCA
Perf test) with NVOnline: 1119887.



1.3              Minimum Hardware Configuration
                 for Partner Validation
For faster time to market, partners can start their validation process while building out
their compute tray and their multi-node server rack. Partners do not need to populate
the entire compute tray or entire server rack to start their validation.




                                                                           VL
The PVP highlights the minimum hardware configuration that is required to perform




                                                                      -N
each validation test item. Partners can jump-start their validation at ES with the




                                                   s
minimum hardware configuration to uncover any issues early on.




                                              27 ab
Table 1-1 explains the minimum hardware configuration at the compute tray validation.




                                            0: L
                                          :0 cle
Table 1-2 explains the minimum hardware configuration for the server rack validation.


                                        16 r a
                                      28 l O
Table 1-1.        L10 Validation Minimum Hardware Configuration
                                    1- ia

 Minimum Hardware Configuration      Description
                                 - 1 nt


 Core Tray                           2x Bianca boards
                               25 fide




                                     > 1x CPU per board
                             20 n




                                     > 2x GPUs per board
                           5 Co




                                     Accessory boards:
                         39 IA




                                     > HMC integrated
                       22 ID




                                     > BMC interposer card and BMC integrated
                    1 1 NV




                                     > M.2 riser card and M.2 installed
                     ah




                                     > 1x Front I/O board
                   sn




                                     > 1x Power distribution board (PDB)
                 Ki




 Core Tray + GPU-Less                2x Bianca boards
             ik




                                     > 1x CPU per board
             R




                                     > 0x GPU per board
                                     Accessory boards:
                                     > HMC integrated
                                     > BMC interposer card and BMC integrated
                                     > M.2 riser card and M.2 installed
                                     > 1x Front I/O board
                                     > 1x Power distribution board (PDB)
 Core Tray + NVLink loopbacks        2x Bianca boards
                                     > 1x CPU per board
                                     > 2x GPUs per board
                                     Accessory boards:




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 3
                                                                                          Introduction


 Minimum Hardware Configuration        Description
                                       > HMC integrated
                                       > BMC interposer card and BMC integrated
                                       > M.2 riser card and M.2 installed
                                       > 1x Front I/O board
                                       > 1x Power distribution board (PDB)
                                       NVLink loopback cable installed
 Core Tray + TPM + CPU only            2x Bianca boards
                                       > 1x CPU per board
                                       > 0x GPUs per board
                                       Accessory boards:




                                                                             VL
                                       > HMC integrated




                                                                         -N
                                       > BMC interposer card and BMC integrated




                                                   s
                                       > M.2 riser card and M.2 installed




                                              27 ab
                                       > 1x Front IO board




                                            0: L
                                       > 1x Power distribution board (PDB)




                                          :0 cle
                                       > 1x TPM module


                                        16 r a
 Full Tray                             All L10 BOM fully integrated
                                      28 l O
 Full Tray + GPU-Less                  All L10 BOM is fully integrated with exceptions any GPUs
                                    1- ia
                                 - 1 nt


 Full Tray + NVLink loopbacks          All L10 BOM fully integrated with NVLink loopback cables
                               25 fide



                                       installed
 PDB + E-Load                          Power distribution board with electronic load test equipment
                             20 n
                           5 Co




Table 1-2.            L11 Validation Minimum Hardware Configuration
                         39 IA
                       22 ID




 Minimum Hardware Configuration        Description
                    1 1 NV




 Full Rack                             Server rack with all compute trays and switch trays populated
                                       > Bus bar integrated
                     ah




                                       > Power shelf integrated
                   sn




                                       > Manifold integrated
                 Ki




                                       > Cables and rails integrated
             ik
             R




 Full Rack + GPU-Less                  Server rack with all compute trays and switch trays populated
                                       > No GPUs are required in the compute trays
                                       > Bus bar integrated
                                       > Power shelf integrated
                                       > Manifold integrated
                                       > Cables and rails integrated
 Rack + 1 Full Tray                    Server rack with a single fully populated compute tray
                                       > Bus bar integrated
                                       > Power shelf integrated
                                       > Manifold integrated
                                       > Cables and rails integrated




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 4
                                                                                         Introduction


 Minimum Hardware Configuration        Description
 Rack with no compute or switch tray   Server rack without any compute tray and switch tray
                                       > Bus bar integrated
                                       > Power shelf integrated
                                       > Manifold integrated
                                       > Cables and rails integrated
 Rack + E-Loads                        Server rack without any compute tray and switch tray
                                       > Electronic load for load testing
                                       > Bus bar integrated
                                       > Power shelf integrated
                                       > Manifold integrated




                                                                                VL
                                       > Cables and rails integrated




                                                                         -N
 Rack + 1 Core Tray                    Server rack with a core compute tray




                                                    s
                                       See Table 1-1 for core tray definition




                                               27 ab
 Full Rack Packaged on Pallet          Server rack with all compute trays and switch trays populated,




                                             0: L
                                       and packaged on pallet




                                           :0 cle
                                         16 r a
                                       28 l O
1.4               Attachments
                                     1- ia
                                  - 1 nt


The following files are attached to this validation guide. All example code and test
                                25 fide




scripts are provided for partner reference only. Partners are responsible for modifying
                              20 n




and developing their own test scripts. In addition, partners are responsible for ensuring
                            5 Co




the integrity and completeness of all their validation activities including, but not limited
to, test scripts, test results, and test data analysis.
                          39 IA
                        22 ID




>   CPU JTAG Test Script
                     1 1 NV




    •   The “jtag_test” can be used to perform JTAG validation under Section 3.6.1 “CPU
        JTAG Scan Check from BMC.”
                      ah




>   GB_NVL72_PVP_Validation_Levarage_Guidance.nvzip
                    sn
                  Ki




To access the attached files, click the Attachment icon on the left-hand toolbar on this
PDF (using Adobe Acrobat Reader or Adobe Acrobat). Select the file and use the Tool Bar
            ik
          R




options (Open, Save) to retrieve the documents. Files with the .nvzip extension must be
renamed to .zip and then can be extracted using 7-Zip file archive software or other
archive software.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 5
Chapter 2. Leveraging Guidelines for
           NVL36 Transition to NVL72




                                                                            VL
Partners can leverage their previous qualification efforts when transitioning from a 2RU




                                                                       -N
NVL36 configuration to a 1RU NVL72 configuration.




                                                 s
A subset of the validation test items must be retested on the 1RU compute tray as part




                                            27 ab
of the compute tray transition. Refer to Table 2-1 for the test items that must be




                                          0: L
                                        :0 cle
performed as part of the 2RU to 1RU compute tray transition. These test items cover
areas of mechanical, thermal, power, high-speed PCIe, and I2C functional checks.

                                      16 r a
                                    28 l O
Partners transitioning from a 1RU NVL36 to 1RU NVL72 using the same compute tray,
without any tray-level design changes, are allowed to leverage all their L10 validation.
                                  1- ia
                               - 1 nt


For L11 rack-level validation, partners must complete the line items outlined in the PVP
                             25 fide




on their NVL72 rack system.
                           20 n




For additional test descriptions for the items listed in the following table, refer to the
                         5 Co




GB200 NVL System Partner Validation Playbook (NVOnline: 1115639) and the GB300 NVL
                       39 IA




System Partner Validation Playbook (NVOnline: 1128352).
                     22 ID
                  1 1 NV




Table 2-1.          2RU to 1RU Compute Tray Transition Test Items
                   ah




 ID         Category        Subcategory                   Test Item
                 sn




 ME.9       Mechanical      Component fit check           Check all components fit inside tray
               Ki




 LC.5       Liquid Cooled   LC Tray Leak - Small Leak     Trigger a small liquid leak (slow dripping) in a
             ik




                            Detection                     tray using PG25
          R




 LC.8       Liquid Cooled   LC Tray Leak - Disconnect     Unplug the leak detection sensor from the
                            Sensor Fault                  board
 TH.20      Thermal         Thermal Stress Test (NVQual   Full power thermal stress test with all
                            Test #1)                      external components (that is, InfiniBand,
                                                          SSD) at worst case ambient (chamber
                                                          required)
 PW.1       Power           Power EDPp (NVQual Test #7)   NVQual Test#7 - Input power EDP peak
                                                          testing for system power supplies
 EC.1       PCIe            PCIe EOM (NVQual Test #17)    Qualification - 50x PCIe EOM Margin Test
                                                          with a PASSING EOM as per vendor spec
 EC.2       PCIe            PCIe hot reset (NVQual Test   LTSSM - 10000x Hot Reset - SBR with
                            #24)                          training



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 6
                                                     Leveraging Guidelines for NVL36 Transition to NVL72


 ID         Category     Subcategory                          Test Item
 EC.3 -12   PCIe         PCIe Speed Change LTSSM              LTSSM - 500x Speed Change
                         (NVQual Test #29)
 EC.13      PCIe         PCIe link enable disable (NVQual     LTSSM - 10000x PCIe Link Enable/Disable
                         Test #26)
 EC.14      PCIe         PCIe retrain (NVQual Test #27)       LTSSM - 10000x PCIe retrain
 EC.15      PCIe         PCIe L1 transitions (NVQual Test     LTSSM - 10000x Power management L1
                         #30)                                 transition
 EC.16      PCIe         PCIe D3 transitions (NVQual          LTSSM - 10000x Power management D3
                         Test #31)                            transition
 EC.17      PCIe         PCIe Tx Equalization Test            LTSSM - 10000x Tx Eq Redo




                                                                              VL
                         (NVQual Test #25)




                                                                          -N
 IC.5       I2C          BMC I2C-6, and UPHY1 1P              Test connections between BMC I2C-6 and
                         functional                           UPHY1 from the first Bianca compute board




                                                    s
                                               27 ab
 IC.6       I2C          BMC I2C-6 and UPHY1 2P               Test connections between BMC I2C-6 and
                         functional                           UPHY1 from the second PG548




                                             0: L
                                           :0 cle
 IC.7       I2C          BMC I2C-6, and UPHY0 1P              Test connections between BMC I2C-6 and
                         functional                           UPHY0 from the first PG548


                                         16 r a
 IC.8       I2C          BMC I2C-6 and UPHY0 2P               Test connections between BMC I2C-6 and
                                       28 l O
                         functional                           UPHY0 from the second PG548
                                     1- ia

 IC.9       I2C          BMC I2C-6, Mezzanine Network         Test connections between BMC I2C-6 and
                                  - 1 nt


                         Board 1 IO expander, and FRU         Mezzanine Network Board 1 I/O expander
                                25 fide




                         functional                           and FRU
                              20 n




 IC.10      I2C          BMC I2C-6, Mezzanine Network         Test connections between BMC I2C-6 and
                            5 Co




                         Board 2 I/O expander, and FRU        Mezzanine Network Board 2 I/O expander
                         functional                           and FRU
                          39 IA
                        22 ID




 IC.11      I2C          BMC I2C-1 SSIF functional            Test SSIF connection between FPGA and
                                                              BMC I2C-1
                     1 1 NV




 IC.17      I2C          BMC I2C-3, HMC I2C-4 and             Test connections between FPGA #1, FPGA
                      ah




                         FPGA 1 functional                    #1 ERoT, HMC I2C-4, HMC FRU and BMC
                    sn




                                                              I2C-3
                  Ki




 IC.19      I2C          BMC I2C-2, HMC I2C-1, HMC            Test connections between BMC, HMC ERoT,
                         ERoT, and FPGA 2 functional          HMC I2C-1, FPGA #2 ERoT and FPGA #2
            ik
            R




 IC.22      I2C          HMC I2C-13, BMC I2C-16 and           Test connections between HMC I2C-13,
                         UPHY3 2P functional                  BMC I2C-16 and UPHY3 from second PG548
 IC.23      I2C          BMC I2C-5, RTC and I/O               Test connections between BMC I2C-5, RTC
                         expander functional                  and I/O expander
 IC.24      I2C          BMC I2C-6 and I2C Switches           Test connections between BMC I2C-6 and
                         functional                           I2C Switches on both carrier boards
 IC.25      I2C          BMC I2C-7, PDB, Leak Sensors,        Test connections between BMC I2C-7, both
                         and Fan controllers functional       boards fan controllers, leak sensors, and
                                                              PDB board
 IC.26      I2C          BMC I2C-9, HMC-7, and M.2            Test connections between BMC I2C-9,
                         functional                           HMC-7 and M.2




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                            VG-12022-001_v09 | 7
                                                  Leveraging Guidelines for NVL36 Transition to NVL72


 ID         Category     Subcategory                       Test Item
 IC.27      I2C          BMC I2C-10 and Io expanders       Test connections between BMC I2C-10 and
                         functional                        I/O expander on HMC and both I/O
                                                           expanders on both carrier boards
 IC.28      I2C          BMC I2C-11, TMP, and BMC FRU      Test connections between BMC I2C-11,
                         functional                        temperature sensor, and BMC FRU
 IC.29      I2C          BMC I2C-15 and UPHY3 1P           Test connections between BMC I2C-15 and
                         functional                        UPHY3 from the first PG548
 SY.5       System       Warm reboot test                  Test that the system can perform a warm
                                                           reboot
 SY.6       System       AC reboot test                    Test that the system can AC cycle (aux
                                                           cycle)




                                                                            VL
 SY.7       System       DC reboot test                    Test that the system can DC cycle (run




                                                                       -N
                                                           power from BMC)




                                                    s
 SY.8       System       DC 2 reboot test                  Test that the system can DC cycle (run




                                               27 ab
                                                           power and standby power from BMC)




                                             0: L
 SY.15      System       AC reboot stress test             100x AC cycles by completely removing




                                           :0 cle
                                                           power from tray, checking for reliable power


                                         16 r a
                                       28 l O              control and ensuring OS, PCIe, MCTP, SSIF,
                                                           and FPGA stability each cycle
                                     1- ia

 SY.16      System       DC reboot stress test             100x DC cycles (run power and standby
                                  - 1 nt


                                                           power from BMC), check for reliable power
                                25 fide



                                                           control, and ensure OS, PCIe, MCTP, SSIF
                                                           and FPGA stability each cycle
                              20 n




 SY.25      System       System Inventory check            Check the inventory (FRU list) of every node
                            5 Co




                                                           in the chassis
                          39 IA




 SY.33      System       Tray hot swap                     Unplug a tray while the system is turned on
                        22 ID




                                                           and plug it back in
                     1 1 NV
                      ah
                    sn
                  Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 8
Chapter 3. L10 Compute Tray Hardware
           Validation




                                                                                  VL
This chapter describes additional recommended hardware validation items of the L10




                                                                             -N
compute tray.




                                                 s
                                            27 ab
                                          0: L
3.1             Mechanical

                                        :0 cle
                                      16 r a
Partners should go through the following items in Table 3-1 to verify the mechanical
                                    28 l O
integration of the compute tray.
                                  1- ia
                               - 1 nt


Table 3-1.        Mechanical Checklist
                             25 fide




 ID       Subcategory              Test Item Description                    Expected Results
                           20 n
                         5 Co




 ME.1     Mechanical fitment of    Check the mechanical fit of all the      All PCBAs fit in the expected
          all PCBAs                PCBAs                                    location and screw holes align
                       39 IA




                                                                            with the chassis
                     22 ID




 ME.2     Mechanical Tray Weight   Physically weigh the tray                Weight is in line with target
                  1 1 NV




                                                                            weight
                   ah




 ME.3     Physical Interference    Inspect the tray for interferences       No component is overstressed
                                   or overstressed components under         and there are no mechanical
                 sn




                                   normal use cases                         interferences
               Ki




 ME.4     Cable Routing Path       Check all cable routing paths within     Ensure all cables are routed
             ik




                                   the tray                                 along the correct path
          R




 ME.5     Cable Routing Slack      Check all cable lengths during           Ensure all cables are the correct
                                   normal operation in the tray             length with no excessive slack
                                                                            or cables under stress
 ME.6     Cable Routing Radii      Check all cable bend angles and          Ensure all cable bends are not
                                   locations in the tray                    exerting excessive stress on the
                                                                            cable
 ME.7     Cable Labeling           Check all cable labeling on all cables   Ensure all cables are correctly
                                   within the tray                          labeled within the tray
 ME.8     Tray Labeling            Check all tray labeling within the       Ensure all labeling on and in the
                                   tray and on the outside of the tray      tray are correct




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                VG-12022-001_v09 | 9
                                                                         L10 Compute Tray Hardware Validation


 ID        Subcategory                 Test Item Description                   Expected Results
 ME.9      Component fit check         Check all components fit inside         All components fit as expected
                                       tray                                    and can be successfully installed
                                                                               into the tray
 ME.10     Tray screw alignment        Check all board screw holes align       All boards and component screw
                                       with tray screw holes                   holes align with tray screw holes
 ME.11     Liquid pipe routing path    Check all liquid pipe routing paths     Ensure all liquid pipes are routed
                                       within the tray                         along the correct path
 ME.12     Liquid pipe routing         Check all liquid pipe lengths during    Ensure all liquid pipes are
           slack                       normal operation in the tray            correct length with no excessive
                                                                               slack or cables under stress
 ME.13     Liquid pipe routing radii   Check all liquid pipe bend angles       Ensure all liquid pipe bends are




                                                                                     VL
                                       and locations in the tray               not exerting excessive stress on




                                                                                -N
                                                                               the cable




                                                   s
                                              27 ab
3.2              Thermal


                                            0: L
                                          :0 cle
This section details the thermal testing and procedures for the GB200 and GB300 NVL
                                        16 r a
                                      28 l O
systems.
                                    1- ia
                                 - 1 nt


3.2.1            Host BMC Shdn, Event Logging for
                               25 fide




                 THERM_OVERT_N Assertion
                             20 n
                           5 Co




Purpose
                         39 IA




The purpose of this test is to ensure that the partner takes the correct action within
                       22 ID




their BMC if components within the baseboard rise above the maximum operating
                    1 1 NV




temperature.
                     ah




Prerequisites
                   sn




>     Download the error injection toolkit within the NVIDIA RASTool (NVRASTool)
                 Ki




      (NVOnline: 1112947) and follow instructions within the user’s guide for any
             ik




      prerequisites required to run the toolkit on your host machine.
           R




>     Implement a logging mechanism within the host BMC to log events, such as
      overtemperature, in non-volatile storage for RMA and debug analysis.
Test Procedure
1. Within the NVRASTool, assert hardware injection fault conditions to emulate a
   THERM_OVERT_N. By injecting an overtemperature condition within the following
   baseboard components, we can assert the THERM_OVERT_N signal:
2. Ensure that THERM_OVERT_N is asserted through the Out-of-Band (OOB) path.
3. Upon triggering THERM_OVERT_N, ensure the host system shuts down the baseboard
   within 1 second by de-asserting GPU_BASE_PWR_EN or GPU_BASE_STBY_EN.
4. Log the overtemperature event in the BMC.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                  VG-12022-001_v09 | 10
                                                         L10 Compute Tray Hardware Validation


5. Power cycle the system chassis to reset the fault.
Pass or Fail Criteria
>   The baseboard remains in a shutdown state until human intervention
>   The BMC logs the THERM_OVERT_N event in non-volatile storage for RMA and debug
    analysis


3.2.2           Host BMC Shdn, Event Logging for
                FPGA_OVERT_N Assertion
Purpose




                                                                    VL
The purpose of this test is to ensure that the partner takes the correct action within




                                                                -N
their BMC if the FPGA rises above the maximum operating temperature.




                                                  s
Prerequisites




                                             27 ab
>   Download the error injection toolkit within the NVIDIA RASTool (NVRASTool)




                                           0: L
    (NVOnline: 1112947) and follow instructions within the user’s guide for any




                                         :0 cle
    prerequisites required to run the toolkit on your host machine.
>
                                       16 r a
    Implement a logging mechanism within the host BMC to log events, such as
                                     28 l O
    overtemperature, in non-volatile storage for RMA and debug analysis.
                                   1- ia
                                - 1 nt


Test Procedure
                              25 fide




1. Within the NVRASTool, assert hardware injection fault conditions to emulate an
   FPGA_OVERT_N.
                            20 n
                          5 Co




2. Ensure that FPGA_OVERT_N is asserted through the Out-of-Band (OOB) path.
                        39 IA




3. Upon triggering FPGA_OVERT_N, ensure the host system shuts down the baseboard
                      22 ID




   within 1 second by de-asserting GPU_BASE_PWR_EN or GPU_BASE_STBY_EN.
                   1 1 NV




4. Log the FPGA overtemperature event in the BMC.
                    ah




5. Power cycle the system chassis to reset the fault.
                  sn




Pass or Fail Criteria
                Ki




>   Ensure the baseboard remains in a shutdown state until human intervention
            ik




>   Ensure that the BMC logs the FPGA_OVERT_N event in non-volatile storage for RMA
          R




    and debug analysis.



3.3             Liquid Cooling
This section details the liquid cooling testing and procedures for the GB200 and GB300
NVL systems.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 11
                                                            L10 Compute Tray Hardware Validation



3.3.1           Leak Detection
Purpose
Verify that the leak detection features on the compute tray are detecting liquid properly.
Partners can verify the hardware feature through ADC readouts before checking the
BMC firmware implementation. Refer to the NVIDIA MGX Leak Detection Strategy and
Remediation Application Note (NVOnline: 1115991) for more information.
Prerequisites
Leak sensors are connected to the compute board. They do not need to be fully
integrated into the tray chassis.




                                                                       VL
Test Procedure




                                                                   -N
1. Test the leak sensor ADC readings under dry, nominal conditions. Verify that the ADC
   normalized readings are within the defined passing threshold (0.49 – 0.55).




                                                  s
                                             27 ab
2. Stop the BMC Leak Detector service, the example code is as follows. Partners will




                                           0: L
   need to modify the following command per their BMC implementation.




                                         :0 cle
    systemctl stop xyz.openbmc_project.leakdetectsensor.service   #This application should
    automatically restart on next BMC reset

                                       16 r a
                                     28 l O
3. Unbind the drivers dependent on what ADCs you have connected.
    echo ${ADC_ADDR} > /sys/bus/i2c/devices/i2c-6/delete_device    #ADC_ADDR = [0x34, 0x35,
                                   1- ia

    0x18, 0x1E]
                                - 1 nt
                              25 fide



4. For example, if you have a system with MAX1363 ADC parts:
    root@gb200nvl-bmc:/# i2cdetect -y -q 6
                            20 n




         0 1 2 3 4 5 6 7 8 9 a b c d e f
                          5 Co




    00:                         -- -- -- -- 0c -- -- --
                        39 IA




    10: -- -- 12 -- 14 -- -- -- -- -- -- -- -- -- -- --
                      22 ID




    20: UU -- -- UU -- -- -- -- 28 -- -- -- UU -- -- UU
                   1 1 NV




    30: -- -- -- -- UU UU -- 37 -- -- -- -- -- -- -- --
    40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- 4e --
                    ah




    50: UU -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
                  sn




    60: 60 61 -- -- -- -- -- -- -- -- -- -- -- -- -- --
    70: -- -- -- -- -- -- -- --
                Ki




    root@gb200nvl-bmc:/# systemctl stop xyz.openbmc_project.leakdetectsensor.service
            ik




    root@gb200nvl-bmc:/# echo 0x34 > /sys/bus/i2c/devices/i2c-6/delete_device
          R




    root@gb200nvl-bmc:/# echo 0x35 > /sys/bus/i2c/devices/i2c-6/delete_device
    root@gb200nvl-bmc:/# i2cdetect -y -q 6
         0 1 2 3 4 5 6 7 8 9 a b c d e f
    00:                         -- -- -- -- 0c -- -- --
    10: -- -- 12 -- 14 -- -- -- -- -- -- -- -- -- -- --
    20: UU -- -- UU -- -- -- -- 28 -- -- -- UU -- -- UU
    30: -- -- -- -- 34 35 -- 37 -- -- -- -- -- -- -- --
    40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- 4e --
    50: UU -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
    60: 60 61 -- -- -- -- -- -- -- -- -- -- -- -- -- --
    70: -- -- -- -- -- -- -- --




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 12
                                                            L10 Compute Tray Hardware Validation


5. Restart the BMC Leak Detector service and re-bind the ADCs.
    systemctl start xyz.openbmc_project.leakdetectsensor.service
6. Getting the ADC readings before applying liquid to the leak detection sensor. Each
   ADC has two channels.
    # Primary Bianca AIN0
    root@gb200nvl-bmc:/# i2ctransfer -y -f 6 w2@0x34 0x61 0x82 r2
    0x98 0x54

    # Primary Bianca AIN1
    root@gb200nvl-bmc:/# i2ctransfer -y -f 6 w2@0x34 0x63 0x82 r2
    0xb8 0x4b




                                                                       VL
    # Secondary Bianca AIN0
    root@gb200nvl-bmc:/# i2ctransfer -y -f 6 w2@0x35 0x61 0x82 r2




                                                                    -N
    0x98 0x58




                                                 s
                                            27 ab
    # Secondary Bianca AIN1




                                          0: L
    root@gb200nvl-bmc:/# i2ctransfer -y -f 6 w2@0x35 0x63 0x82 r2




                                        :0 cle
    0xb8 0x4a



                                      16 r a
7. Convert the ADC readings to the voltage value and compare the read-out value from
                                    28 l O
   the ADC sensors to the nominal threshold range. Take the lower 12 bits of the
   reading you got from the previous step and convert it to a decimal value. Then divide
                                  1- ia
                               - 1 nt


   it by 4095 and multiply by 3.3 to get the ADC voltage reading.
                             25 fide



    # Primary Bianca AIN0
    root@gb200nvl-bmc:/# i2ctransfer -y -f 6 w2@0x34 0x61 0x82 r2
                           20 n




    0x98 0x54
                         5 Co




8. To convert the sensor reading "0x98 0x54" we take the lower 12 bits so that is 0x854
                       39 IA




   which is equal to 2132. Now divide this by 4095 and multiply by 3.3. (2132/4095)*3.3
                     22 ID




   = 1.718V
                  1 1 NV




    For normalized readings, just divide by 4095 so 2132/4095 = 0.52
                   ah




9. Repeat the same exercise after applying liquid droplets to the leak sensors at the
                 sn




   GPU sensor (P4672) and the manifold sensor (P4674). Partners can choose to apply
               Ki




   additional leak testing at other sensor locations as well.
            ik
          R




           Note: Care should be taken when applying liquid droplets on the liquid sensors.
           Partners are recommended to have the leak sensor outside the tray assembly. Apply
           droplets to the sensor directly to avoid damaging other electronic components.


10. Repeat the same exercise after shorting the sensor through a jump wire and verify
    that the nominal ADC reading is at or close to zero.
11. Repeat the same exercise when the sensor is unplugged from the compute tray
    (missing sensor condition). Verify that the nominal ADC reading is at or close to one.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 13
                                                            L10 Compute Tray Hardware Validation


Pass or Fail Criteria
>   Sensor ADC hardware pass or fail criteria:
    •   For a dry, no leakage condition, the normalized ADC reading should be between
        0.49 and 0.55.
    •   For a leakage condition, the resistance across the sensor will drop resulting in a
        lower voltage input to the ADC. As a result, the normalized ADC reading should be
        lower than 0.49.
    •   For a sensor short condition, the normalized ADC reading should be at or close to
        zero.
    •   For a missing sensor condition, the normalized ADC reading should be at or close
        to one.




                                                                       VL
>   BMC firmware implementation pass or fail criteria:




                                                                   -N
    •   For any fault condition (leakage, short, missing sensor), the amber fault LED on
        the front panel should be blinking at 4 Hz.




                                                 s
                                            27 ab
    •   The BMC should support DMTF Redfish LeakDetection and LeakDetector




                                          0: L
        schemas. Verify the Redfish event log should be issued by the BMC. The fault




                                        :0 cle
        event log should be located in the Redfish event log directory, for example:

                                      16 r a
        /redfish/v1/Systems/System_0/LogServices/EventLog
                                    28 l O
                                  1- ia
                               - 1 nt


3.4             Power Validation
                             25 fide




This section details the power validation testing and procedures for the GB200 and
                           20 n
                         5 Co




GB300 NVL systems.
                       39 IA
                     22 ID




3.4.1           Input EDP Peak Testing
                  1 1 NV




Purpose
                   ah




This test validates that the system can operate under transient workload at various
                 sn




pulsing frequencies and that the input voltage peak-to-peak value is within the values
               Ki




listed in the product specification.
            ik
          R




For board level input EDPp specifications, refer to the NVIDIA GB200 NVL Bianca
Compute Board Product Specification (NVOnline: 1114953) and the NVIDIA GB300 NVL72
HPM Compute Board Product Specification (NVOnline: 1126424).
Test Procedure
1. Secure probe point for the input power on the 12V bus bar going into the compute
   board PCBA.
2. Run the NVQual Test #7 (Input EDPp Test)
3. On the 12V voltage rail, capture the instantaneous voltage peak-to-peak value, and
   compare it against the product specification for peak-to-peak value.
4. To accurately characterize input EDPp transient current and power, there are two
   measurement methods:


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 14
                                                            L10 Compute Tray Hardware Validation


    a. Use the oscilloscope's "High Res" feature in the oscilloscope that oversamples
       and then averages over the acquisition interval. For the board level and compute
       tray level specifications, the moving average timescales are 400 µs and 50 ms.
       See Section 6.1 ”Moving Average Measurement using Oscilloscope HiRes Mode”
       for more information.
    b. Collect data samples over the transient workload and perform post processing
       for each load frequency with the recommended oscilloscope settings. See
       Section 6.2 “Input EDPp Post-Processing Guideline” for more information.
        i.    Sampling rate:
              (1) Load frequencies < 10 KHz: 100 µs/pt is sufficient
              (2) Load frequencies ≥ 10 KHz: 40 µs/pt is recommended




                                                                       VL
        ii.   Record length and horizontal scale:




                                                                   -N
              (1) Load frequencies < 10 KHz: 1500 seconds (150 sec/div)
              (2) Load frequencies ≥ 10 KHz: 1200 seconds




                                                    s
                                               27 ab
Pass or Fail Criteria




                                             0: L
                                           :0 cle
Ensure that the compute tray does not crash when running the workload and that the


                                         16 r a
peak-to-peak voltage noise is within the product’s electrical specification.
                                       28 l O
                                     1- ia

3.4.2             GPU Power Brake
                                  - 1 nt
                                25 fide




Purpose
                              20 n




This test ensures that the partner has the capability to assert the power brake
                            5 Co




(PWR_BRAKE_N) to lessen peak and continuous power draw during emergency situations.
                          39 IA




Test Procedure
                        22 ID




1. Ensure that the PWR_BRAKE_N signal is in a de-asserted state before the experiment
                     1 1 NV




   during normal operation.
                      ah




2. If power brake is implemented for the emergency scenarios, toggle the
                    sn




   PWR_BRAKE_N external input.
                  Ki




    a. Assert PWR_BRAKE_N for at least 250 ms on the host partner system.
              ik




3. Verify total baseboard power gets reduced when PWR_BRAKE_N is asserted.
              R




    a. Run tools such as NVQual thermal test or nvidia-smi for log collection on GPU
       power levels and GPU clock.
Pass or Fail Criteria
>   PWR_BRAKE_N is in a de-asserted state during normal operation.
>   PWR_BRAKE_N is asserted by the host platform for all emergency scenarios.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 15
                                                         L10 Compute Tray Hardware Validation



3.4.3           Power Distribution Board Static Loads
Purpose
The purpose of this test is to verify that the partner-designed power distribution board
(PDB) can supply and sustain power under various static load conditions. For more
information, refer to the GB200 NVL72 Compute Tray Power Distribution Board Design
Specification (NVOnline: 1115461) and the NVIDIA GB300 NVL72 Power Distribution Board
Design Specification (NVOnline: 1136956).
Prerequisites
PDB board with an electronic load to simulate active load.




                                                                      VL
Some of the GB NVL72 compute tray components are partner designed, and partners
are responsible for validating to the power budget of their compute tray. The following




                                                                -N
test condition and procedure are for partner reference only.




                                                  s
                                             27 ab
Test Procedure




                                           0: L
1. Connect electronic load to all power rails 12V_RUN_1, 12V_RUN_2, and 12V_STBY on




                                         :0 cle
   the PDB board with the 54V input power to the PDB.


                                       16 r a
2. Start from 0% static load and draw power from the PDB.
                                     28 l O
3. Sweep static load conditions with increasing steps (partner defined, a minimum of 4
                                   1- ia

   to 5 steps), until PDB power protection hot swap controller (HSC) over current
                                - 1 nt


   protection kicks in.
                              25 fide




4. Record input voltage, output voltage, and current for each step.
                            20 n
                          5 Co




Pass or Fail Criteria
>   PDB can sustain all static load conditions before OCP without any issues.
                        39 IA
                      22 ID




>   The PDB board did not sustain any permanent damage after OCP.
                   1 1 NV




3.4.4           Power Distribution Board Dynamic Loads
                    ah
                  sn




Purpose
                Ki




This test's purpose is to verify that the partner-designed power distribution board (PDB)
            ik




can supply and sustain power under various dynamic load conditions. For more
          R




information, refer to the GB200 NVL72 Compute Tray Power Distribution Board Design
Specification (NVOnline: 1115461) and the GB300 NVL72 Power Distribution Board Design
Specification (NVOnline: 1136956).
Prerequisites
PDB board with an electronic load to simulate active load.
Some of the GB NVL72 compute tray components are partner designed, partners are
responsible for validating to the power budget of their compute tray. The following test
condition and procedure are for partner reference only.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 16
                                                           L10 Compute Tray Hardware Validation


Test Procedure
1. Connect electronic load to all power rails 12V_RUN_1, 12V_RUN_2, and 12V_STBY on
   the PDB board with the 54V input power to the PDB.
2. For the electrical load setting, with 50% duty cycle at 10 ms, 20 ms, and 50 ms at
   100% load.
3. Test at 10% duty cycle at maximum load at the board hot swap controller (HSC) over
   current protection kicks in.
4. Record input voltage, output, voltage and current for each step.
Pass or Fail Criteria
>    PDB can sustain all load conditions before OCP without any issues.




                                                                       VL
>    The PDB board did not sustain any permanent damage after OCP.




                                                                  -N
3.5             PCIe




                                                  s
                                             27 ab
                                           0: L
This section details the PCIe testing and procedures for the GB200 and GB300 NVL




                                         :0 cle
systems.

                                       16 r a
                                     28 l O
3.5.1           PCIe Speed and Width Configuration Check
                                   1- ia
                                - 1 nt
                              25 fide



Purpose
This test is to verify that all NVIDIA Grace™ PCIe lanes are configured to their expected
                            20 n
                          5 Co




speed and width.
                        39 IA




Prerequisites
                      22 ID




The following table shows the minimum required hardware configuration for verifying
                   1 1 NV




the CPU UPHY PCIe width and speed. Partners can prioritize validating PCIe links that do
not require GPUs to ensure faster time to market.
                    ah
                  sn




Table 3-2.        PCIe Link Specification and Minimum Hardware Configuration
                Ki
             ik




                                                                  Minimum Hardware
          R




 #        PCIe Link                             Width   Speed     Configuration
 1        Grace 0 UPHY 0 (#1 CX-7/CX-8) (x16)   x16     Gen5      Full Tray + GPU-Less
 2        Grace 0 UPHY 1 (#2 CX-7/CX-8) (x16)   x16     Gen5      Full Tray + GPU-Less
 3        Grace 0 UPHY 2 (PEX SW Gen 3) (x1)    x1      Gen3      Full Tray + GPU-Less
 4        Grace 0 UPHY 2 (1G NIC) (x1)          x1      Gen3      Full Tray + GPU-Less
 5        Grace 0 UPHY 2 (USB Bridge) (x1)      x1      Gen2      Full Tray + GPU-Less
 6        Grace 0 UPHY 2 (DC-SCI) (x1)          x1      Gen2      Full Tray + GPU-Less
 7        Grace 0 UPHY 3 (BF-3) (x16)           x16     Gen5      Full Tray + GPU-Less
 8        Grace 0 UPHY 3 (4 x E1.S) (x4)        x4      Gen4      Full Tray + GPU-Less
 9        Grace 0 UPHY 4 (GPU/CX-8) (x1)        x1      Gen4      Core Tray




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 17
                                                                L10 Compute Tray Hardware Validation


                                                                        Minimum Hardware
 #         PCIe Link                             Width       Speed      Configuration
 10        Grace 0 UPHY 5 (GPU/CX-8) (x1)        x1          Gen4       Core Tray
 11        Grace 1 UPHY 0 (#1 CX-7/CX-8) (x16)   x16         Gen5       Full Tray + GPU-Less
 12        Grace 1 UPHY 1 (#2 CX-7/CX-8) (x16)   x16         Gen5       Full Tray + GPU-Less
 13        Grace 1 UPHY 2 (M.2 SSD) (x4)         x4          Gen4       Full Tray + GPU-Less
 14        Grace 1 UPHY 3 (BF-3) (x16)           x16         Gen5       Full Tray + GPU-Less
 15        Grace 1 UPHY 3 (4 x E1.S) (x4)        x4          Gen4       Full Tray + GPU-Less
 16        Grace 1 UPHY 4 (GPU/CX-8) (x1)        x1          Gen4       Core Tray
 17        Grace 1 UPHY 5 (GPU/CX-8) (x1)        x1          Gen4       Core Tray




                                                                             VL
                                                                        -N
Test Procedure




                                                   s
Run the following from the host and check the speed and width of each device in the




                                              27 ab
output:




                                            0: L
                                          :0 cle
sudo lspci -vvv



                                        16 r a
Pass or Fail Criteria                 28 l O
Verify each link conforms to the speed and width listed in Table 3-2.
                                    1- ia
                                 - 1 nt
                               25 fide




3.5.2            PCIe Link Training Steady State Machine
                             20 n




PCIe Link Training Steady State Machine (LTSSM) should be carried out on all the PCIe
                           5 Co




links from the Grace CPU. Partners may be able to perform certain links before a fully
                         39 IA




populated Bianca board with GPUs. The PCIe LTSSM includes the following tests and
                       22 ID




should be performed on all Grace PCIe links.
                    1 1 NV




Table 3-3.         Grace CPU PCIe LTSSM
                     ah
                   sn




 Test              Subtest                             Iterations    Pass or Fail Criteria
                 Ki




 Link              Hot Reset - SBR                     10000         Train to device maximum Speed
             ik




 Inoperability                                                       and Width with no Uncorrectable or
           R




                                                                     Correctable Errors logged.
                   Speed Change (Gen1 - Gen2)          500           Train to Gen2 x16 No errors
                   Speed Change (Gen1 - Gen3)          500           Train to Gen3 x16 No errors
                   Speed Change (Gen1 - Gen4)          500           Train to Gen4 x16 No errors
                   Speed Change (Gen1 - Gen5)          500           Train to Gen5 x16 No errors
                   Speed Change (Gen2 - Gen3)          500           Train to Gen3 x16 No errors
                   Speed Change (Gen2 - Gen4)          500           Train to Gen4 x16 No errors
                   Speed Change (Gen2 - Gen5)          500           Train to Gen5 x16 No errors
                   Speed Change (Gen3 - Gen4)          500           Train to Gen4 x16 No errors
                   Speed Change (Gen3 - Gen5)          500           Train to Gen5 x16 No errors




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 18
                                                            L10 Compute Tray Hardware Validation


 Test             Subtest                          Iterations   Pass or Fail Criteria
                  Speed Change (Gen4 - Gen5)       500          Train to Gen5 x16 No errors
                  Link Disable/Enable              10000        Train to device maximum Speed
                                                                and Width with no Uncorrectable or
                                                                Correctable Errors logged.
                  Retrain                          10000        Train to device maximum Speed
                                                                and Width with no Uncorrectable or
                                                                Correctable Errors logged.
                  PowerManagement L1 Transitions   10000        Train to device maximum Speed
                                                                and Width with no Uncorrectable or
                                                                Correctable Errors logged.
                  PowerManagement D3 Transitions   10000        Train to device maximum Speed




                                                                        VL
                                                                and Width with no Uncorrectable or




                                                                   -N
                                                                Correctable Errors logged.
                  Tx Eq Redo                       10000        Train to device maximum Speed




                                                  s
                                             27 ab
                                                                and Width with no Uncorrectable or
                                                                Correctable Errors logged.




                                           0: L
                                         :0 cle
                                       16 r a
Prerequisites
                                     28 l O
Partners must use NVQual vG1.0.4 or later
                                   1- ia
                                - 1 nt


Test Procedure
                              25 fide




1. Download the NVQual for Grace-Blackwell Product (NVOnline: 1119931) and follow the
                            20 n




   instructions within the NVQual User’s Guide.
                          5 Co




2. Select and run the PCIe Link Training test suite under NVQual.
                        39 IA




3. Verify the NVQual output test result and check against the minimum hardware
                      22 ID




   configuration in Table 3-2 to make sure they can successfully run the PCIe LTSSM
                   1 1 NV




4. Update the test results on the Partner Validation Playbook.
                    ah




5. Combine these test logs into a single ZIP file for the final NVQual submission
                  sn




6. Refer to the Introduction to NVIDIA Partner Validation Playbook (PVP) (NVOnline:
                Ki




   1106745) for instructions on test results submission.
            ik




Pass or Fail Criteria
          R




PCIe LTSSM test passes in the NVQual test tool.



3.6             I/O Interface
This section details the I/O interface testing and procedures for the GB200 and GB300
NVL systems.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 19
                                                                  L10 Compute Tray Hardware Validation



3.6.1           CPU JTAG Scan Check from BMC
Purpose
This test checks the debug JTAG scan from a single Grace CPU to the BMC is functional
as expected.
Prerequisites
Partner should use minimum QS firmware package dev1 drop, and with C05 Bianca
board.
Test Procedure
1. Set the JTAG_MUX_SEL to active low on the BMC




                                                                              VL
    root@gb200nvl-bmc:~# gpioset `gpiofind "JTAG_MUX_SELECT-O"`=1




                                                                          -N
2. Set the JTAG_BYPASS_B2B to 1 from the HMC via SMBPBI
    i2cset -y 1 0x60 0x5c 0x04 0xb4 0x99 0x56 0x80 i # unlock hidden devices via SMBPBI




                                                  s
                                             27 ab
3. Set the I/O expander (4th bit) to 1 from the HMC




                                           0: L
    root@gb200nvl-hmc:~# i2ctransfer -y 1 w3@0x0f 0x38 0x02 0x08




                                         :0 cle
4. Using the jtag_test code attached in this validation guide, and run the test code


                                       16 r a
    root@gb200nvl-bmc:~# ./jtag_test -j /dev/jtag1 -i 0x6ba00477 -f 1000000 -v
                                     28 l O
5. Verify the number of devices found, expected to be 1. Verify the ID code of the found
                                   1- ia

   device, expected to be 0x6ba00477)
                                - 1 nt


    Found number of devices:1
                              25 fide



    Found ir length devices:4
    idcode:0x6ba00477
                            20 n
                          5 Co




      Note: To access the attached test code “jtag_test,” click the Attachment icon on the left-hand
                        39 IA




      toolbar on this PDF (using Adobe Acrobat Reader or Adobe Acrobat). Select the file and use the
                      22 ID




      Tool Bar options (Open, Save) to retrieve the attachment. File with the .nvzip extension must be
                   1 1 NV




      renamed to .zip and then can be extracted using 7-zip file archive software or other archive
      software.
                    ah
                  sn




Pass or Fail Criteria
                Ki




CPU JTAG can successfully complete the boundary scan from the BMC. The number of
            ik
          R




devices and device ID code matches the expected values.


3.6.2           Dual CPU JTAG Scan Check from BMC
Purpose
This test checks the debug JTAG scan from two Grace CPUs to the BMC is functional as
expected.
Prerequisites
Partner should use minimum QS firmware package dev1 drop, and with C05 Bianca
board.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 20
                                                                  L10 Compute Tray Hardware Validation


Test Procedure
1. Set the JTAG_MUX_SEL to active low on the BMC
    root@gb200nvl-bmc:~# gpioset `gpiofind "JTAG_MUX_SELECT-O"`=1
2. Set the JTAG_BYPASS_B2B to 1 from the HMC
    i2cset -y 1 0x60 0x5c 0x04 0xb4 0x99 0x56 0x80 i # unlock hidden devices via SMBPBI on Primary
    Board
    i2cset -y 2 0x60 0x5c 0x04 0xb4 0x99 0x56 0x80 i # unlock hidden devices via SMBPBI on
    Secondary Board
3. Set the I/O expander (4th bit) to 1 on the secondary board
    root@gb200nvl-hmc:~# i2ctransfer -y 2 w3@0x0f 0x38 0x02 0x08
4. Using the jtag_test code attached in this validation guide, and run the test code
    root@gb200nvl-bmc:~# ./jtag_test -j /dev/jtag1 -i 0x6ba00477 -f 1000000 -v




                                                                              VL
5. Verify the number of devices found, expected to be 2. Verify the ID code of the found




                                                                          -N
   device, expected to be 0x6ba00477)




                                                 s
    Found number of devices:2




                                            27 ab
    Found ir length devices:8




                                          0: L
    idcode:0x6ba00477




                                        :0 cle
    idcode:0x6ba00477


                                      16 r a
                                    28 l O
      Note: To access the attached test code “jtag_test,” click the Attachment icon on the left-hand
      toolbar on this PDF (using Adobe Acrobat Reader or Adobe Acrobat). Select the file and use the
                                  1- ia

      Tool Bar options (Open, Save) to retrieve the attachment. File with the .nvzip extension must be
                               - 1 nt


      renamed to .zip and then can be extracted using 7-zip file archive software or other archive
                             25 fide




      software.
                           20 n
                         5 Co




Pass or Fail Criteria
                       39 IA




CPU JTAG can successfully complete the boundary scan from the BMC. The number of
                     22 ID




devices and device ID code matches the expected values.
                  1 1 NV
                   ah




3.6.3           CPU JTAG Electrical Validation
                 sn
               Ki




Purpose
            ik




This test checks the debug JTAG electrical signal meets the JTAG timing requirements
          R




as referenced in the Arm developer RealView ICE.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 21
                                                         L10 Compute Tray Hardware Validation


Figure 3-1.       CPU JTAG Electrical Validation




                                                                       VL
                                                                -N
                                                  s
                                             27 ab
Table 3-4.        JTAG Timing Specification




                                           0: L
                                         :0 cle
 Symbol        Parameter                                          Min.            Max.


                                       16 r a
 Tbscl         TCK LOW period        28 l O                       50 ns           500 µs
 Tbsch         TCK HIGH period                                    50 ns           500 µs
                                   1- ia

 Tbsod         TDI and TMS valid from TCK falling edge            --              6.0 ns
                                - 1 nt
                              25 fide



 Tbsis         TDO setup to TCK (rising)                          15.0 ns         --
 Tbsih         TDO hold from TCK (rising)                         6.0 ns          --
                            20 n
                          5 Co
                        39 IA




Prerequisites
                      22 ID




Partner should use minimum QS firmware package dev1 drop, and with C05 Bianca
                   1 1 NV




board.
                    ah




Test Procedure
                  sn




1. Set the CPU ready for JTAG scan chain as in Section 3.6.1.
                Ki




2. Install probe points at the BMC board for JTAG signals (TDI, TDO, TCK, and TMS)
             ik
          R




3. Capture waveforms when the jtag_test code is executed.
Pass or Fail Criteria
Verify that the captured JTAG signals meet the timing specification listed in Table 3-4.


3.6.4           I2C Functional Bus Scan
Purpose
This test ensures that the host BMC can access all other I2C buses in the compute tray
as outlined in the NVIDIA GB200 Bianca NVL Product Specification (NVOnline: 1114953).




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 22
                                                           L10 Compute Tray Hardware Validation


Prerequisites
>   Set up the partner’s Host BMC or equivalent I2C host device with access to the I2C
    buses.
>   Identify which I2C addresses need to be accessed within the host I2C device.
>   Ensure that your I2C host device has the correct parameters set:
    •   Bitrate
    •   Slave address
    •   Disable internal I2C pull-up resistors within the host I2C device
Test Procedure
Perform a read on the host I2C device with connections to SDA and SCL lines. For




                                                                      VL
example, systems with Linux packages such as I2C tools installed on the BMC or HMC




                                                                  -N
can utilize the following commands for scanning:
I2C1 scan: i2cdetect -y -q $I2C1_BUS




                                                  s
                                             27 ab
I2C2 scan: i2cdetect -y -q $I2C2_BUS




                                           0: L
Pass or Fail Criteria




                                         :0 cle
All device I2C addresses are visible through the I2C bus scan.

                                       16 r a
                                     28 l O
3.6.5             I2C Electrical Validation
                                   1- ia
                                - 1 nt
                              25 fide



Purpose
                            20 n




This test ensures the I2C management interface meets the official I2C electrical
                          5 Co




specifications (https://www.nxp.com/docs/en/user-guide/UM10204.pdf).
                        39 IA




Prerequisites
                      22 ID




>   Set up oscilloscope with passive probes (1 MHz bandwidth per channel or higher)
                   1 1 NV




>   Ensure direct probing access to I2C buses highlighted in the NVIDIA GB200 NVL
                    ah




    Bianca Compute Board Product Specification (NVOnline: 1114953). This may require
    soldering break-out wires to the net name locations outside of the baseboard.
                  sn
                Ki




>   Set up host BMC or equivalent I2C host device
            ik




    •   Establish a method of sending I2C traffic to the host BMC. For example, set up
          R




        polling to the I2C bus or develop a script to read data from an I2C endpoint
        through OOB methods.
>   Ensure that your I2C host device has the correct parameters set:
    •   Bitrate
    •   Slave address
    •   Register address
    •   Disable internal I2C pull-up resistors within the host I2C device
Test Procedure
1. Hook up the oscilloscope and passive probes (2x) to the SDA and SCL lines on the I2C
   bus.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 23
                                                            L10 Compute Tray Hardware Validation


2. Initiate I2C read/write traffic with host I2C device.
3. Collect I2C waveforms for each I2C electrical validation parameter.
Pass or Fail Criteria
The measurements performed on the I2C buses must meet the official electrical
specifications by Philips/NXP. I2C parameters should be verified:
>   V_OL (Output Low Voltage)
>   V_OH (Output High Voltage)
>   Clock Frequency
>   Rise Time
>   Fall Time




                                                                       VL
>   High Time




                                                                   -N
>   Low Time




                                                  s
>   Setup Time




                                             27 ab
>   Hold Time




                                           0: L
                                         :0 cle
>   Hold Time – Start


                                       16 r a
>   Setup Time – Stop                28 l O
                                   1- ia

3.6.6           SPI Functional Check
                                - 1 nt
                              25 fide




Purpose
                            20 n




Verify that SPI devices can be accessed and communicated properly.
                          5 Co




Test Procedure
                        39 IA




1. The example test procedure checks for BMC connection to the BMC ERoT (EID: 0)
                      22 ID




   through MCTP on the SPI bus.
                   1 1 NV




2. Use the following command to check for BMC ERoT is listed on the MCTP tree
                    ah




    root@dev:~# busctl tree xyz.openbmc_project.MCTP.Control.SPI
                  sn




    `-/xyz
                Ki




      `-/xyz/openbmc_project
        `-/xyz/openbmc_project/mctp
            ik
          R




           `-/xyz/openbmc_project/mctp/0
             `-/xyz/openbmc_project/mctp/0/0
3. SPI functionalities can be verified through the successful retrieval of the MCTP
   information (EIDs) on these ERoTs.
4. Use the following command to check for BMC to HMC ERoT by performing a HMC
   recovery from the BMC by SPI.
    ## From BMC Terminal ##
    systemctl start hmc-recovery.target

    busctl list | grep -i mctp   ## Verify SPI2 is available

    busctl list | grep -i mctp




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 24
                                                            L10 Compute Tray Hardware Validation


    :1.179                                                           2347 mctp-ctrl        root
    :1.179        mctp-spi0-ctrl.service                                                     -
    -
    :1.182                                                           2403 mctp-ctrl        root
    :1.182        mctp-i2c2-ctrl.service                                                     -
    -
    :1.358                                                           9600 mctp-ctrl        root
    :1.358        mctp-i2c14-ctrl.service                                                    -
    -
    :1.359                                                           9601 mctp-ctrl        root
    :1.359        mctp-i2c15-ctrl.service                                                    -
    -
    :1.360                                                           9602 mctp-ctrl        root
    :1.360        mctp-i2c5-ctrl.service                                                     -




                                                                       VL
    -




                                                                   -N
    :1.502                                                          10310 mctp-ctrl        root
    :1.502        mctp-spi2-ctrl.service                                                     -




                                                 s
                                            27 ab
    -
    xyz.openbmc_project.MCTP.Control.SMBus14                         9600 mctp-ctrl        root




                                          0: L
    :1.358        mctp-i2c14-ctrl.service                                                    -




                                        :0 cle
    -


                                      16 r a
    xyz.openbmc_project.MCTP.Control.SMBus15
                                    28 l O                           9601 mctp-ctrl        root
    :1.359        mctp-i2c15-ctrl.service                                                    -
    -
                                  1- ia
                               - 1 nt


    xyz.openbmc_project.MCTP.Control.SMBus2                          2403 mctp-ctrl        root
                             25 fide



    :1.182        mctp-i2c2-ctrl.service                                                     -
    -
                           20 n




    xyz.openbmc_project.MCTP.Control.SMBus5                          9602 mctp-ctrl        root
                         5 Co




    :1.360        mctp-i2c5-ctrl.service                                                     -
    -
                       39 IA




    xyz.openbmc_project.MCTP.Control.SPI0                            2347 mctp-ctrl        root
                     22 ID




    :1.179        mctp-spi0-ctrl.service                                                     -
                  1 1 NV




    -
    xyz.openbmc_project.MCTP.Control.SPI2                           10310 mctp-ctrl        root
                   ah




    :1.502        mctp-spi2-ctrl.service
                 sn
               Ki




    busctl tree xyz.openbmc_project.MCTP.Control.SPI2   ## Verify EID 1 Exists in the SPI2 Tree
    `- /xyz
            ik
          R




      `- /xyz/openbmc_project
        `- /xyz/openbmc_project/mctp
          |- /xyz/openbmc_project/mctp/0
          | `- /xyz/openbmc_project/mctp/0/1
          `- /xyz/openbmc_project/mctp/SPI

Pass or Fail Criteria
Expected device EIDs show up on the MCTP SPI tree confirming the functionality of the
SPI buses.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 25
                                                            L10 Compute Tray Hardware Validation



3.6.7           SPI Electrical Validation
Purpose
Verify that the SPI lines (MISO, MOSI, SCLK, SS/CS) on the partner BMC boards meet the
SPI electrical specifications in terms of voltage levels, timing, and signal integrity. The
SPI electrical signal should be verified against its timing specification outlined in Table
3-5.

Figure 3-2.       SPI Electrical Validation




                                                                          VL
                                                                   -N
                                                  s
                                             27 ab
                                           0: L
                                         :0 cle
                                       16 r a
                                     28 l O
                                   1- ia
                                - 1 nt
                              25 fide
                            20 n
                          5 Co
                        39 IA
                      22 ID




Table 3-5.        SPI Timing Parameters
                   1 1 NV




 Symbol        Parameter                               Unit        Min.         Max.
                    ah




 tCKH          SCLK High Time                          ns          8.6ns        tCK – tCKL
                  sn




 tCKL          SCLK Low Time                           ns          8.6ns        tCK – tCKH
                Ki




 tDO           Data Output Propagation                 ns          tDOH         13ns
             ik




 tDOH          Data Output Hold time                   ns          2
          R




 tDIS          Data Input Setup Time                   ns          7.6          3000
 tDIH          Data Input Hold Time                    ns          4            --
 tCSS          CS Input Setup Time                     ns          19.6         --
 tCSHR         CS Input Hold Time                      ns          9.8          --



Prerequisites
Equipment: Oscilloscope, signal generator, logic analyzer, and appropriate probes.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 26
                                                           L10 Compute Tray Hardware Validation


Test Procedure
1. For the compute tray, the SPI voltage levels (VIH, VIL, VOH, and VOL) are configured to
   VDD at 3.3V. Refer to the device-specific data sheet for the DC electrical
   characteristics.
2. Connect the oscilloscope probes to the SPI lines (DIN, DOUT, SCLK, SS/CS).
    a. For checking the BMC to ERoT SPI path on the reference design, utilize the QSPI0
       lines from the BMC to ERoT Microchip CEC1736.
    b. For checking the BMC to HMC ERoT SPI path on the reference design, utilize the
       J21 connector on the HMC and measure the following bus nets:
       EROT_OOB_BMC_CLK_MC, EROT_OOB_BMC_CS0_MC, EROT_OOB_BMC_MOSI_MC,
       and EROT_OOB_MISO_MC.




                                                                      VL
                                                                   -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n




3. Monitor the voltage levels for logic high and logic low on each line.
                         5 Co




4. Compare with the required voltage levels as per SPI specifications.
                       39 IA




5. Capture the timing of the SPI signals using the oscilloscope.
                     22 ID




6. Measure setup time, hold time, clock frequency, and clock-to-output delay.
                  1 1 NV




7. Verify that the timing parameters meet the SPI specification.
                   ah




8. Observe the SPI signals for any anomalies like noise, overshoot, or ringing.
                 sn




Pass or Fail Criteria
               Ki




>   Signals must be clean without significant distortions or deviations from the expected
            ik




    waveform.
          R




>   Voltage levels must fall within the specified range for both logic high and low.
>   Timing parameters must align with the SPI standard's specifications.


3.6.8           SGPIO Electrical Validation
The SGPIO communication protocol allows the FPGA on the Bianca compute board to
communicate seamlessly across its accessory boards (BMC, HCM, and IPEX). It is also
being used to feed various serialized signals to the FPGA using a parallel-to-serial shift
buffer topology. For more information on SGPIO implementation on the compute board,
refer to the NVIDIA GB200 NVL Bianca Compute Board Product Specification (NVOnline:
1114953).


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 27
                                                                L10 Compute Tray Hardware Validation


The SGPIO bus consists of four signal lines and is shared between two devices, usually
called initiator and target. It is an open collector configuration and typically has 2.0 kΩ
pull-up resistors.

Figure 3-3.          SGPIO Bus Overview




                                                                            VL
                                                                         -N
                                                    s
                                               27 ab
                                             0: L
                                           :0 cle
The following figure shows the timing parameters for SGPIO interface between the

                                         16 r a
FPGA and BMC management module.
                                       28 l O
                                     1- ia

Figure 3-4.          SGPIO Timing Diagram
                                  - 1 nt
                                25 fide
                              20 n
                            5 Co
                          39 IA
                        22 ID
                     1 1 NV
                      ah




These are the signals that make up the SGPIO bus:
                    sn




>       SClock: The SGPIO interface from the Bianca FPGA is running at 12.5 MHz.
                  Ki




>       SLoad: Indicates a new frame of data and is synchronous to the clock. A new SGPIO
               ik




        frame is indicated by SLoad being high at a rising edge of a clock after having been
             R




        low for at least five clock cycles. The four falling clock edges after a start condition
        are used to carry a 4-bit value from initiator to target, or vice versa.
>       SDataOut: Used by initiator to send data to target. Consists of 4-bit data packets
>       SDataIn: Used by target to send data back to initiator. Consists of 4-bit data packets.

Table 3-6.           SGPIO Timing Parameters
 Symbol        Parameter                            Minimum          Maximum           Unit
 fck           Clock frequency                      -                12.5              MHz
 tldv          LD valid delay                       -                5                 ns
 tov           DATA_OUT valid delay                 -                5                 ns



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                        VG-12022-001_v09 | 28
                                                                L10 Compute Tray Hardware Validation


 Symbol       Parameter                             Minimum           Maximum           Unit
 tIS          Input setup time                      10                -                 ns
 tIH          Input hold time                       1                 -                 ns
 TR           Input rise time                       -                 6                 ns
 TF           Input fall time                       -                 6                 ns



Test Procedure
1. Find SGPIO signals on the compute tray (Bianca) schematic.




                                                                            VL
                                                                          -N
                                                   s
                                              27 ab
                                            0: L
                                          :0 cle
                                        16 r a
                                      28 l O
2. Determine a probing spot for each signal. See the following examples on the
                                    1- ia

   reference design.
                                 - 1 nt
                               25 fide



       a. The first set of signals already gives good test points. Measure LD and CLK near
          the FPGA at R83 and R5896, respectively. Measure data in near parallel to serial
                             20 n




          topology, or in this case R5897 which is near U739.
                           5 Co




       b. For the second set of signals, it is recommended that CLK, LD, and DATAOUT be
                         39 IA




          measured near the FPGA. The image in Step 1 shows appropriate probing spots
                       22 ID




          for these. DATAIN is to be measured as close as possible to the HMC. In this case,
                    1 1 NV




          the HMC is the initiator, and the FPGA is the target.
3. Locate probing spots on the layout file. Rework to add probes to necessary spots or
                     ah




   acquire probe holders for testing the signals.
                   sn
                 Ki




             Note: If probes are to be added, make sure they are as short as possible so as not to
              ik




             introduce stubs to the physical layer of the communication bus and ensure proper
            R




             grounding.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                         VG-12022-001_v09 | 29
                                                         L10 Compute Tray Hardware Validation


4. Set up an oscilloscope with the appropriate signals to measure the timing and
   electrical properties of the bus and make sure they are in specification. Using the
   CLK or LD line as the scope’s trigger would be best.




                                                                    VL
                                                                 -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
5. Generate traffic and record multiple screenshots and waveform files. Make sure to
                                    28 l O
   record all necessary measurements, such as clock frequency, clock high and low
                                  1- ia

   time, rise and fall times, data setup, and hold times.
                               - 1 nt


Pass or Fail Criteria
                             25 fide




Check the captured signals against the PHY layer and protocol layer characteristics and
                           20 n
                         5 Co




verify against the SGPIO timing parameter provided in this section.
                       39 IA




3.6.9           UART Functional Check
                     22 ID
                  1 1 NV




Purpose
                   ah




UART is crucial for debugging the compute tray. Engineers and developers can directly
                 sn




tap into a device with a UART controller using a host PC if UART is functionally working.
               Ki




Partners should validate that the UART interfaces are functional and meet electrical
            ik




specifications.
          R




Test Procedure
1. Identify the UART interface on the BMC module. This UART interface connects
   directly to the Grace CPU for debugging purposes.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 30
                                                         L10 Compute Tray Hardware Validation


2. Identify the UART signals (TX, RX and GND lines) on the BMC, and connect the UART
   interface to a lab PC using a USB to TTL UART cable (example:
   https://www.adafruit.com/product/954)




3. Verify that serial communication can be established between the UART controller




                                                                    VL
   and the lab PC. Partner can use a serial console terminal (that is, PuTTY, TeraTerm, or




                                                                -N
   MobaXTerm) on the lab PC to confirm.




                                                 s
4. Set the baud rate to match the baud rate (that is, 921600 bps) of the UART




                                            27 ab
   controller to ensure functional data transmission.




                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




Pass or Fail Criteria
Ensure the UART serial communication is established between the lab PC and the BMC.


3.6.10          UART Electrical Validation
Purpose
Verify the UART interface between the BMC and the HMC CPLD meets the electrical
specifications of the device data sheet.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 31
                                                             L10 Compute Tray Hardware Validation


Table 3-7.            UART DC Specifications
 Parameter                                     Symbol    Min       Typ        Max       Unit
 Input low voltage                             VIL       -0.3      -          0.8       V
 Input high voltage                            VIH       2.0       -          3.6       V
 Output low voltage @ IOL (min)                VOL       -         -          0.4       V
 Output high voltage @ IOH (min)               VOH       2.4       -          -         V


Figure 3-5.           UART TBIT Definition




                                                                         VL
                                                                       -N
                                                  s
                                             27 ab
                                           0: L
Table 3-8.            UART AC Specifications



                                         :0 cle
                                       16 r a
 Parameter                           28 l O    Symbol    Min       Typ        Max       Unit
 Baud Rate                                     -         -         -          3.6864    MBits/s
                                   1- ia

 Bit Time                                      TBit      271       -          -         ns
                                - 1 nt


 Input/Output Rise Time                        TR        -         -          0.05      TBit
                              25 fide




 Input/Output Fall Time                        TF        -         -          0.05      TBit
                            20 n
                          5 Co
                        39 IA




       Note: The procedure outlines the UART parameters based on the reference BMC and HMC
                      22 ID




       device AST2600. Refer to the specific SoC data sheet for the corresponding parameters.
                   1 1 NV




Prerequisites
                    ah
                  sn




>   Oscilloscope: Tektronix TDS684C or faster
                Ki




>   At least one (preferably four) Tektronix P6245 Single-ended Probes (with dynamic
             ik




    range of 7+ volts)
            R




>   USB to TTL UART cable
Test Procedure
1. Identify the UART TX, RX pin location on the MICO connector between the HMC and
   BMC board
2. Send UART signals between via the BMC to the HMC CPLD, and capture waveforms
   on scope.
3. Check the captured waveform against the DC and AC electrical specifications with
   the respective device data sheet, or as outlined in Table 3-7 and Table 3-8.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 32
                                                          L10 Compute Tray Hardware Validation


Pass or Fail Criteria
Ensure the UART waveform captured meets both the DC and AC electrical specifications
as outlined.


3.6.11          RMII Network Controller Sideband Interface
NC-SI, abbreviated from network controller Sideband interface, is an electrical interface
and protocol defined by the Distributed Management Task Force (DMTF). The NC-SI
enables the connection of a baseboard management controller (BMC) to one or more
network interface controllers (NICs) in a server computer system to enable out-of-band
system management. This allows the BMC to use the network connections of the NIC




                                                                     VL
ports for the management traffic, in addition to the regular host traffic.




                                                                  -N
NC-SI is based on the RMII specification with some modifications that allow the
connection of multiple network controllers to a single BMC.




                                                  s
                                             27 ab
The NC-SI port allows OOB management to the BMC and BF-3 from the BF-3's QSFP




                                           0: L
network. It may be seen that this link allows the BMC to talk directly to the BF-3 over IP,




                                         :0 cle
but this is not the case. The BMC's eth1 link is forwarded directly to the external QSFP

                                       16 r a
network.                             28 l O
Purpose
                                   1- ia
                                - 1 nt


Verify the RMII NC-SI communication between the BMC and BF-3 is functional without
                              25 fide



any package lost.
                            20 n




Prerequisites
                          5 Co




Minimum hardware requirements:
                        39 IA




>   1x compute board (Bianaca or Arial)
                      22 ID




>   1x BF-3
                   1 1 NV




>   1x device with an ethernet supported QSFP port
                    ah
                  sn
                Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 33
                                                            L10 Compute Tray Hardware Validation


Figure 3-6.       RMII NC-SI Diagram




                                                                       VL
                                                                   -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA




       Note: The diagram in Figure 3-6 ignores the physical path from the BMC to the HMC, BMC
                     22 ID




       to the compute motherboard, and BMC to the front I/O board. Also, the interfaces with a
                  1 1 NV




       10.20.45.XX IPs are examples. These IPs will differ from setup to setup.
                   ah




Test Procedure
                 sn
               Ki




Step 1: Hardware Configuration
            ik




1. Set up two compute trays, each having a BMC, HMC, BF-3, and I/O board.
          R




2. Confirm that the BMCs and HMCs are properly connected.
3. Confirm that the compute tray motherboard to the BF-3 cable is present on both
   systems.
4. Connect a QSFP cable between the two BF-3s. The QSFP ports will be assigned an IP.
   This validation guide assumes that the QSFP port closest to the RJ45 port is used on
   the BF-3. The other ports can be used; the network interface name will be different
   when assigning the IPs later.
5. Turn on RUN power.
6. For the QSFP ports with a cable installed, confirm their status LEDs are solid green.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 34
                                                            L10 Compute Tray Hardware Validation


Step 2: Connect to the BF-3s on Host OS.
The BF-3 has two hosts:
>   Host OS
>   Host BMC. For testing NC-SI, the Host OS is utilized.
There are two paths for connecting the BF-3 to the Host OS:
>   Through the TH500 Grace CPU
>   Through the BF-3 OOB network interface (RJ45 port).
Use one of the connection methods for executing commands on the BF-3 Host OS.
>   Method 1 – Connect BF-3 Host OS through TH500 Grace CPU
1. SSH to the Grace OS.




                                                                       VL
2. Output the IPv6 address of the BF-3.




                                                                   -N
    ip -6 addr | grep tmfifo_net




                                                 s
                                            27 ab
    Example output:




                                          0: L
    7: tmfifo_net0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 state UNKNOWN qlen 1000




                                        :0 cle
        inet6 fe80::21a:caff:fe:ff:ff02/64 scope link



                                      16 r a
    When two BF-3s are installed, there will be two tmfifo_net interfaces, one for each
                                    28 l O
    BF3.
                                  1- ia

3. Convert the IPv6 address to the address for the Host OS by replacing the last nibble
                               - 1 nt


   with a ‘1’. For example:
                             25 fide




    fe80::21a:caff:fe:ff:ff02  fe80::21a:caff:fe:ff:ff01
                           20 n




4. From the TH500, SSH to the BF-3 Host OS using the following format:
                         5 Co




    ssh -6 ubuntu@<BF3 Host OS IPv6 address>%<BF3 network interface>
                       39 IA




    Example command:
                     22 ID




    ssh -6 ubuntu@fe80::21a:caff:fe:ff:ff01%tmfifo_net0
                  1 1 NV




    If you are using the second BF-3, then use tmfifo_net1 as the interface.
                   ah




>   Method 2 – Connect BF-3 Host OS through OOB interface
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 35
                                                             L10 Compute Tray Hardware Validation


1. Take a picture of the BF’s part and serial number sticker. Record the MAC address
   with the label “OOB”. This refers to the BF’s Host OS.




                                                                         VL
                                                                    -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
2. Open a shell from a system on the same subnet as the BF-3. You will need to be able
   to install nmap on this system. It is recommended to use the TH500’s OS.

                                      16 r a
                                    28 l O
3. Confirm namp is installed on the system
    apt install nmap
                                  1- ia
                               - 1 nt


4. Use the OOB MAC address, and run the following commands
                             25 fide



    MAC='9c:63:c0:7d:21:00' # REPLACE WITH YOUR MAC IN THE SAME FORMAT
    NETWORK=`ip addr show enP5p9s0 | grep 'inet ' | awk '{print $2}'`
                           20 n




    sudo nmap -sn $NETWORK | grep -iB2 $MAC
                         5 Co




5. The output should contain the IP address
                       39 IA




    Nmap scan report for 10.20.45.97
                     22 ID




    Host is up (0.000077s latency).
                  1 1 NV




    MAC Address: 9c:63:c0:7d:21:00 (Unknown)
6. SSH to this IP address.
                   ah
                 sn




Step 3: Network Configuration
               Ki




1. Connect to the BMC shell and check the status of the NC-SI link:
            ik




    dmesg | grep -I ncsi
          R




2. If the output matches the following, reboot the BMC by running reboot, and try the
   last step again.
    [    1.877450] ftgmac100 1e670000.ftgmac: Using NCSI interface
    [   48.578827] ftgmac100 1e670000.ftgmac eth1: NCSI: No channel found to configure!
    [   49.621217] ftgmac100 1e670000.ftgmac eth1: Wrong NCSI state 0x100 in workqueue
3. If the output includes the following, it is okay to continue.
    [    1.877659] ftgmac100 1e670000.ftgmac: Using NCSI interface
    [   25.683782] ftgmac100 1e670000.ftgmac eth1: NCSI: Handler for packet type 0x82 returned -19
    [   41.289146] ftgmac100 1e670000.ftgmac eth1: NCSI: 'bad' packet ignored for type 0x8b
4. Run ifconfig eth1 and confirm that RX and TX packet count are non-zero:
    root@gb200nvl-bmc:~# ifconfig eth1
    eth1      Link encap:Ethernet HWaddr 02:7A:4E:32:03:A7



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 36
                                                            L10 Compute Tray Hardware Validation


              inet addr:169.254.150.148 Bcast:169.254.255.255 Mask:255.255.0.0
              inet6 addr: fe80::7a:4eff:fe32:3a7/64 Scope:Link
              UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
              RX packets:82 errors:0 dropped:0 overruns:0 frame:0
              TX packets:149 errors:0 dropped:0 overruns:0 carrier:0
              collisions:0 txqueuelen:1000
              RX bytes:6897 (6.7 KiB) TX bytes:9588 (9.3 KiB)
              Interrupt:40
5. On the first system’s BMC, assign the eth1 interface to a new IP on a new network:
    ifconfig eth1 192.168.1.6 netmask 255.255.255.0
6. On the second system’s BMC, assign the eth1 interface to a new IP on the same
   network as the previous step:




                                                                       VL
    ifconfig eth1 192.168.1.7 netmask 255.255.255.0




                                                                   -N
7. On the first system’s BF-3’s Host OS, assign the interface on the OSFP link with a
   new IP on the same network as the previous step:




                                                 s
    sudo ifconfig enp3s0f0s0 192.168.1.2 netmask 255.255.255.0




                                            27 ab
8. On the second system’s BF-3 Host OS, assign the interface on the QSFP link with a




                                          0: L
                                        :0 cle
   new IP on the same network as the previous step:
    sudo ifconfig enp3s0f0s0 192.168.1.3 netmask 255.255.255.0

                                      16 r a
                                    28 l O
    These IPs are temporarily configured. If a system is rebooted, then its IP for this
    setup will be reassigned.
                                  1- ia
                               - 1 nt


Step 4: Test the links
                             25 fide




1. One the first BF-3 Host OS, ping the second BMC using the 192.168.1.X network:
                           20 n




    ping 192.168.1.7
                         5 Co




2. On the second BF-3 Host OS, ping the first BMC using the 192.168.1.X network:
                       39 IA




    ping 192.168.1.6
                     22 ID




3. Both ping commands should output 0% package lost.
                  1 1 NV




Pass or Fail Criteria
                   ah




Both BF-3s can successfully ping the BMCs successfully with 0% package lost.
                 sn
               Ki




3.6.12          RMII NC-SI Electrical Validation
            ik
          R




Purpose
Verify the RMII NC-SI interface between the BMC and the BF-3 and NIC meets the
electrical specifications of the RMII NC-SI electrical specification. The RMII NC-SI
electrical specifications are outlined in the following figures.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 37
                                                 L10 Compute Tray Hardware Validation


Figure 3-7.       RMII NC-SI DC Specifications




                                                            VL
                                                        -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                         VG-12022-001_v09 | 38
                                                 L10 Compute Tray Hardware Validation


Figure 3-8.       RMII NC-SI AC Specifications




                                                            VL
                                                        -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                         VG-12022-001_v09 | 39
                                                         L10 Compute Tray Hardware Validation


Test Procedure
1. Set up two compute trays, each having a BMC, HMC, BF-3, and I/O board.
2. Confirm that the BMCs and HMCs are properly connected.
    Determine a probing spot for each signal for NC-SI. For example, the NC-SI signals
    can be identified on the BMC schematics (NVOnline: 1115463 BMC Management
    Board Design Kit). Partner should check their own BMC designs to identify these
    signals. Cross-check the layout file for an appropriate test spot.




                                                                    VL
                                                                -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID




3. Submit a rework to add probes to the necessary spots or acquire probe holders for
                  1 1 NV




   testing the signals.
                   ah




4. Set up an oscilloscope with the appropriate signals to measure the DC electrical,
                 sn




   timing properties of the NC-SI bus and make sure they are within DC and AC
               Ki




   specifications.
            ik




Pass or Fail Criteria
          R




Ensure the NC-SI waveform captured meets both the DC and AC electrical specifications
as outlined.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 40
                                                               L10 Compute Tray Hardware Validation



3.7             Networking I/O Board
This section details the networking I/O board for the NVIDIA GB200 and GB300 NVL72
systems.


3.7.1           CX-7 and CX-8 Mezzanine Network Card
                Ethernet Validation
This section contains steps to set up and run the I/O stress write test on Ethernet
protocol through OSFP medium from the CX-7 and CX-8 ports on the networking I/O
board.




                                                                          VL
Partner is recommended to use the ib_write_bw on Perftest package tool.




                                                                      -N
Test Procedure




                                                 s
                                            27 ab
Following are the steps for Initial setup.




                                          0: L
1. Run mst start




                                        :0 cle
2. Check mst status -v

                                      16 r a
                                    28 l O
3. Verify mlx_0 and mlx_1 are listed as follows with mst device ‘mt4129’
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah




Following are the steps for the Ethernet test.
                 sn




1. Assign ip for mlx5_0 and mlx5_1
               Ki




    sudo ifconfig enP2p3s0np0 11.11.11.7 // any arbitrary IP
            ik




    sudo ifconfig enp3s0np0 11.11.11.8 // any arbitrary IP
          R




2. Check ibstat, verify port state as “Active;” verify link layer as “Ethernet.”
3. Follow the commands as shown here to start the server and client and verify that the
   throughput speed is around 740 Gb/s (as highlighted in green in the following
   output).
    nvidia@localhost:~$ ib_write_bw -d mlx5_0 --report_gbits -b --run_infinitely &
    [1] 7860
    nvidia@localhost:~$ WARNING: BW peak won't be measured in this run.

    ************************************
    * Waiting for client to connect... *
    ************************************




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                       VG-12022-001_v09 | 41
                                                            L10 Compute Tray Hardware Validation


    nvidia@localhost:~$ ib_write_bw -d mlx5_1 --report_gbits -b --run_infinitely 11.11.11.8 &
    nvidia@localhost:~$ WARNING: BW peak won't be measured in this run.
    ---------------------------------------------------------------------------------------
                          RDMA_Write Bidirectional BW Test
     Dual-port        : OFF           Device         : mlx5_0
     Number of qps    : 1             Transport type : IB
     Connection type : RC             Using SRQ      : OFF
     PCIe relax order: ON
    ---------------------------------------------------------------------------------------
                          RDMA_Write Bidirectional BW Test
     Dual-port        : OFF           Device         : mlx5_1
     Number of qps    : 1             Transport type : IB
     Connection type : RC             Using SRQ      : OFF




                                                                       VL
     PCIe relax order: ON




                                                                   -N
     ibv_wr* API      : ON
     TX depth         : 128




                                                 s
     CQ Moderation    : 1




                                            27 ab
     Mtu              : 1024[B]




                                          0: L
     Link type        : Ethernet




                                        :0 cle
     GID index        : 3


                                      16 r a
     Max inline data : 0[B]         28 l O
     rdma_cm QPs      : OFF
                                  1- ia

     Data ex. method : Ethernet
                               - 1 nt


    ---------------------------------------------------------------------------------------
                             25 fide



     ibv_wr* API      : ON
     TX depth         : 128
                           20 n




     CQ Moderation    : 1
                         5 Co




     Mtu              : 1024[B]
                       39 IA




     Link type        : Ethernet
                     22 ID




     GID index        : 3
                  1 1 NV




     Max inline data : 0[B]
     rdma_cm QPs      : OFF
                   ah




     Data ex. method : Ethernet
                 sn




    ---------------------------------------------------------------------------------------
     local address: LID 0000 QPN 0x0129 PSN 0x6032f RKey 0x203ebd VAddr 0x00c9bfb01f0000
               Ki




     GID: 00:00:00:00:00:00:00:00:00:00:255:255:11:11:11:07
            ik




     local address: LID 0000 QPN 0x0129 PSN 0x4b191c RKey 0x203ebd VAddr 0x00b9b586c20000
          R




     GID: 00:00:00:00:00:00:00:00:00:00:255:255:11:11:11:08
     remote address: LID 0000 QPN 0x0129 PSN 0x6032f RKey 0x203ebd VAddr 0x00c9bfb01f0000
     GID: 00:00:00:00:00:00:00:00:00:00:255:255:11:11:11:07
     remote address: LID 0000 QPN 0x0129 PSN 0x4b191c RKey 0x203ebd VAddr 0x00b9b586c20000
     GID: 00:00:00:00:00:00:00:00:00:00:255:255:11:11:11:08
    ---------------------------------------------------------------------------------------
    ---------------------------------------------------------------------------------------
     #bytes      #iterations     BW peak[Gb/sec]    BW average[Gb/sec] MsgRate[Mpps]
     #bytes      #iterations     BW peak[Gb/sec]    BW average[Gb/sec] MsgRate[Mpps]
     65536       3525074           0.00               739.26           1.410017
     65536       3525051           0.00               739.25           1.410008
     65536       3525101           0.00               739.26           1.410018




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 42
                                                            L10 Compute Tray Hardware Validation


     65536       3525299         0.00              739.26              1.410018
     65536       3525085         0.00              739.26              1.410026
     65536       3525086         0.00              739.26              1.410027
     65536       3525077         0.00              739.26              1.410029
     65536       3525071         0.00              739.25              1.410016
     65536       3525072         0.00              739.26              1.410021
     65536       3525087         0.00              739.26              1.410029
     65536       3525084         0.00              739.25              1.410013
     65536       3525085         0.00              739.26              1.410025
     65536       3525078         0.00              739.26              1.410025
     65536       3525071         0.00              739.25              1.410017
     65536       3525075         0.00              739.26              1.410018
     65536       3525086         0.00              739.26              1.410028




                                                                       VL
     65536       3525083         0.00              739.26              1.410029




                                                                   -N
     65536       3525085         0.00              739.26              1.410027
     65536       3525077         0.00              739.26              1.410018




                                                 s
                                            27 ab
4. Verify ispci speed and width.




                                          0: L
    root@localhost:/home/nvidia# lspci -vvvs 0002:03:00.0 | grep -i "lnk\|dev"




                                        :0 cle
            Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast >TAbort- <TAbort- <MAbort- >SERR-
    <PERR- INTx-

                                      16 r a
                    DevCap: MaxPayload 512 bytes, PhantFunc 0, Latency L0s unlimited, L1 unlimited
                                    28 l O
                    DevCtl: CorrErr+ NonFatalErr+ FatalErr+ UnsupReq+
                                  1- ia

                    DevSta: CorrErr- NonFatalErr- FatalErr- UnsupReq- AuxPwr- TransPend-
                               - 1 nt


                    LnkCap: Port #0, Speed 32GT/s, Width x16, ASPM not supported
                             25 fide



                    LnkCtl: ASPM Disabled; RCB 64 bytes, Disabled- CommClk-
                    LnkSta: Speed 32GT/s (ok), Width x16 (ok)
                           20 n
                         5 Co




                    DevCap2: Completion Timeout: Range ABC, TimeoutDis+ NROPrPrP- LTR-
                    DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis- LTR- OBFF Disabled,
                       39 IA




                    LnkCap2: Supported Link Speeds: 2.5-32GT/s, Crosslink- Retimer+ 2Retimers+ DRS-
                     22 ID




                    LnkCtl2: Target Link Speed: 32GT/s, EnterCompliance- SpeedDis-
                  1 1 NV




                    LnkSta2: Current De-emphasis Level: -6dB, EqualizationComplete+
    EqualizationPhase1+
                   ah




                    VF offset: 1, stride: 1, Device ID: 101e
                 sn




                    LnkCtl3: LnkEquIntrruptEn- PerformEqu-
               Ki




    root@localhost:/home/nvidia# lspci -vvvs 0000:03:00.0 | grep -i "lnk\|dev"
            Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast >TAbort- <TAbort- <MAbort- >SERR-
             ik




    <PERR- INTx-
          R




                    DevCap: MaxPayload 512 bytes, PhantFunc 0, Latency L0s unlimited, L1 unlimited
                    DevCtl: CorrErr+ NonFatalErr+ FatalErr+ UnsupReq+
                    DevSta: CorrErr- NonFatalErr- FatalErr- UnsupReq- AuxPwr- TransPend-
                    LnkCap: Port #0, Speed 32GT/s, Width x16, ASPM not supported
                    LnkCtl: ASPM Disabled; RCB 64 bytes, Disabled- CommClk-
                    LnkSta: Speed 32GT/s (ok), Width x16 (ok)
                    DevCap2: Completion Timeout: Range ABC, TimeoutDis+ NROPrPrP- LTR-
                    DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis- LTR- OBFF Disabled,
                    LnkCap2: Supported Link Speeds: 2.5-32GT/s, Crosslink- Retimer+ 2Retimers+ DRS-
                    LnkCtl2: Target Link Speed: 32GT/s, EnterCompliance- SpeedDis-
                    LnkSta2: Current De-emphasis Level: -6dB, EqualizationComplete+
    EqualizationPhase1+




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 43
                                                                  L10 Compute Tray Hardware Validation


                       VF offset: 1, stride: 1, Device ID: 101e
                       LnkCtl3: LnkEquIntrruptEn- PerformEqu-
5. Verify that there is no system error messages by dmesg.
6. Verify temperature sensors are reporting properly on the CX-7 and CX-8 I/O board.
    nvidia@localhost:~$ sensors|grep -i mlx5 -A2
    mlx5-pci-60100
    Adapter: PCI adapter
    asic:          +56.0°C (crit = +105.0°C, highest = +57.0°C)
    --
    mlx5-pci-0300
    Adapter: PCI adapter
    asic:          +48.0°C (crit = +105.0°C, highest = +51.0°C)




                                                                             VL
    --
    mlx5-pci-60101




                                                                         -N
    Adapter: PCI adapter




                                                 s
    asic:          +56.0°C (crit = +105.0°C, highest = +57.0°C)




                                            27 ab
    --




                                          0: L
    mlx5-pci-20300




                                        :0 cle
    Adapter: PCI adapter


                                      16 r a
    asic:          +49.0°C (crit = +105.0°C, highest = +52.0°C)
                                    28 l O
7. Verify MLXLink on PCIe and cable for FOM and Error checks.
    nvidia@localhost:~$ sudo mlxlink -d /dev/mst/mt4129_pciconf0 -c -e -m
                                  1- ia
                               - 1 nt
                             25 fide



    Operational Info
    ----------------
                           20 n




    State                                 : Active
                         5 Co




    Physical state                        : LinkUp
                       39 IA




    Speed                                 : 400G
                     22 ID




    Width                                 : 4x
                  1 1 NV




    FEC                                   : Standard_RS-FEC - (544,514)
    Loopback Mode                         : No Loopback
                   ah




    Auto Negotiation                      : ON
                 sn




    Supported Info
               Ki




    --------------
            ik




    Enabled Link Speed (Ext.)          : 0x0001bff2
          R




    (400G_4X,400G_8X,200G_2X,200G_4X,100G_1X,100G_2X,100G_4X,50G_1X,50G_2X,40G,25G,10G,1G)
    Supported Cable Speed (Ext.)       : 0x0009bffe
    (800G_8X,400G_4X,400G_8X,200G_2X,200G_4X,100G_1X,100G_2X,100G_4X,50G_1X,50G_2X,40G,25G,10G,5G,2
    .5G,1G)

    Troubleshooting Info
    --------------------
    Status Opcode                        : 0
    Group Opcode                         : N/A
    Recommendation                       : No issue was observed.
    Time to Link Up                      : 0.360 sec

    Tool Information



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 44
                                                            L10 Compute Tray Hardware Validation


    ----------------
    Firmware Version                   : 28.98.9122
    amBER Version                      : 3.2
    MFT Version                        : mft 4.28.0-97

    Physical Counters and BER Info
    ------------------------------
    Time Since Last Clear [Min]        : 12.4
    Effective Physical Errors          : 0
    Effective Physical BER             : 15E-255
    Raw Physical Errors Per Lane       : 475,871,1009,774
    Raw Physical BER Per Lane          : 2E-11,4E-11,5E-11,4E-11
    Link Down Counter                  : 0




                                                                         VL
    Link Error Recovery Counter        : 0




                                                                     -N
    Raw Physical BER                   : 1E-11




                                                 s
    EYE Opening Info




                                            27 ab
    ----------------




                                          0: L
    FOM Mode                           : SLRG_FOM_MODE_EYEO




                                        :0 cle
    Lane                               :      0,     1,     2,       3


                                      16 r a
    Initial FOM                        :
                                    28 l O  109,   102,    99,     101
    Last FOM                           :    102,   108,   105,     108
                                  1- ia

    Upper Grades                       :    102,   104,   104,     106
                               - 1 nt


    Mid Grades                         :    123,   119,   116,     123
                             25 fide



    Lower Grades                       :    103,   102,   104,     105
                           20 n




    Module Info
                         5 Co




    -----------
                       39 IA




    Identifier                         : OSFP
                     22 ID




    Compliance                         : 800G-ETC-CR8 or 800GBASE-CR8
                  1 1 NV




    Cable Technology                   : Copper cable unequalized
    Cable Type                         : Passive copper cable
                   ah




    OUI                                : Other
                 sn




    Vendor Name                        : Amphenol
    Vendor Part Number                 : NNDDDA-0006
               Ki




    Vendor Serial Number               : APF243700691DN
            ik




    Rev                                : 1
          R




    Wavelength [nm]                    : N/A
    Transfer Distance [m]              : 0.5
    Attenuation (5g,7g,12g,25g) [dB]   : 3,4,6,12
    FW Version                         : N/A
    Digital Diagnostic Monitoring      : No
    Power Class                        : N/A
    CDR RX                             : N/A
    CDR TX                             : N/A
    LOS Alarm                          : N/A
    Temperature [C]                    : N/A
    Voltage [mV]                       : N/A
    Bias Current [mA]                  : N/A




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 45
                                                            L10 Compute Tray Hardware Validation


    Rx Power Current [dBm]             : N/A
    Tx Power Current [dBm]             : N/A
    Intra-ASIC Latency [ns]            : N/A
    Module Datapath Latency [ns]       : N/A
    Round Trip Latency [ns]            : N/A
    SNR Media Lanes [dB]               : N/A
    SNR Host Lanes [dB]                : N/A
    IB Cable Width                     : 1x,2x,4x,8x
    Memory Map Revision                : 81
    Linear Direct Drive                : 0
    Cable Breakout                     : OSFP to OSFP
    SMF Length                         : N/A
    MAX Power                          : 1




                                                                        VL
    Cable Rx AMP                       : N/A




                                                                   -N
    Cable Rx Emphasis (Pre)            : N/A
    Cable Rx Post Emphasis             : N/A




                                                 s
    Cable Tx Equalization              : N/A




                                            27 ab
    Wavelength Tolerance               : N/A




                                          0: L
    Module State                       : N/A




                                        :0 cle
    DataPath state [per lane]          : N/A


                                      16 r a
    Rx Output Valid [per lane]         : N/A
                                    28 l O
    Nominal bit rate                   : N/A
                                  1- ia

    Rx Power Type                      : OMA
                               - 1 nt


    Manufacturing Date                 : 21_09_24
                             25 fide



    Active Set Host Compliance Code    : 800G-ETC-CR8 or 800GBASE-CR8
    Active Set Media Compliance Code   : N/A
                           20 n




    Error Code Response                : ConfigUndefined
                         5 Co




    Module FW Fault                    : N/A
                       39 IA




    DataPath FW Fault                  : N/A
                     22 ID




    Tx Fault [per lane]                : N/A
                  1 1 NV




    Tx LOS [per lane]                  : N/A
    Tx CDR LOL [per lane]              : N/A
                   ah




    Rx LOS [per lane]                  : N/A
                 sn




    Rx CDR LOL [per lane]              : N/A
    Tx Adaptive EQ Fault [per lane]    : N/A
               Ki
            ik




    nvidia@localhost:~$ sudo mlxlink -d /dev/mst/mt4129_pciconf1 -c -e -m
          R




    Operational Info
    ----------------
    State                              : Active
    Physical state                     : LinkUp
    Speed                              : 400G
    Width                              : 4x
    FEC                                : Standard_RS-FEC - (544,514)
    Loopback Mode                      : No Loopback
    Auto Negotiation                   : ON

    Supported Info




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 46
                                                            L10 Compute Tray Hardware Validation


    --------------
    Enabled Link Speed (Ext.)          : 0x0001bff2
    (400G_4X,400G_8X,200G_2X,200G_4X,100G_1X,100G_2X,100G_4X,50G_1X,50G_2X,40G,25G,10G,1G)
    Supported Cable Speed (Ext.)       : 0x0009bffe
    (800G_8X,400G_4X,400G_8X,200G_2X,200G_4X,100G_1X,100G_2X,100G_4X,50G_1X,50G_2X,40G,25G,10G,5G,2
    .5G,1G)

    Troubleshooting Info
    --------------------
    Status Opcode                      : 0
    Group Opcode                       : N/A
    Recommendation                     : No issue was observed.
    Time to Link Up                    : 0.365 sec




                                                                         VL
                                                                     -N
    Tool Information
    ----------------




                                                 s
    Firmware Version                   : 28.98.9122




                                            27 ab
    amBER Version                      : 3.2




                                          0: L
    MFT Version                        : mft 4.28.0-97




                                        :0 cle
                                      16 r a
    Physical Counters and BER Info  28 l O
    ------------------------------
    Time Since Last Clear [Min]        : 12.5
                                  1- ia
                               - 1 nt


    Effective Physical Errors          : 0
                             25 fide



    Effective Physical BER             : 15E-255
    Raw Physical Errors Per Lane       : 1233,1773,871,726
                           20 n




    Raw Physical BER Per Lane          : 6E-11,1E-10,4E-11,4E-11
                         5 Co




    Link Down Counter                  : 0
                       39 IA




    Link Error Recovery Counter        : 0
                     22 ID




    Raw Physical BER                   : 1E-11
                  1 1 NV




    EYE Opening Info
                   ah




    ----------------
    FOM Mode                           : SLRG_FOM_MODE_EYEO
                 sn




    Lane                               :      0,     1,     2,       3
               Ki




    Initial FOM                        :    103,   102,    93,     105
            ik




    Last FOM                           :    107,    98,   107,     104
          R




    Upper Grades                       :    103,    97,   105,     100
    Mid Grades                         :    117,   108,   109,     115
    Lower Grades                       :    106,   100,   101,     108

    Module Info
    -----------
    Identifier                         : OSFP
    Compliance                         : 800G-ETC-CR8 or 800GBASE-CR8
    Cable Technology                   : Copper cable unequalized
    Cable Type                         : Passive copper cable
    OUI                                : Other
    Vendor Name                        : Amphenol
    Vendor Part Number                 : NNDDDA-0006



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 47
                                                            L10 Compute Tray Hardware Validation


    Vendor Serial Number               : APF243700691DN
    Rev                                : 1
    Wavelength [nm]                    : N/A
    Transfer Distance [m]              : 0.5
    Attenuation (5g,7g,12g,25g) [dB]   : 3,4,6,12
    FW Version                         : N/A
    Digital Diagnostic Monitoring      : No
    Power Class                        : N/A
    CDR RX                             : N/A
    CDR TX                             : N/A
    LOS Alarm                          : N/A
    Temperature [C]                    : N/A
    Voltage [mV]                       : N/A




                                                                        VL
    Bias Current [mA]                  : N/A




                                                                   -N
    Rx Power Current [dBm]             : N/A
    Tx Power Current [dBm]             : N/A




                                                 s
    Intra-ASIC Latency [ns]            : N/A




                                            27 ab
    Module Datapath Latency [ns]       : N/A




                                          0: L
    Round Trip Latency [ns]            : N/A




                                        :0 cle
    SNR Media Lanes [dB]               : N/A


                                      16 r a
    SNR Host Lanes [dB]                : N/A
                                    28 l O
    IB Cable Width                     : 1x,2x,4x,8x
                                  1- ia

    Memory Map Revision                : 81
                               - 1 nt


    Linear Direct Drive                : 0
                             25 fide



    Cable Breakout                     : OSFP to OSFP
    SMF Length                         : N/A
                           20 n




    MAX Power                          : 1
                         5 Co




    Cable Rx AMP                       : N/A
                       39 IA




    Cable Rx Emphasis (Pre)            : N/A
                     22 ID




    Cable Rx Post Emphasis             : N/A
                  1 1 NV




    Cable Tx Equalization              : N/A
    Wavelength Tolerance               : N/A
                   ah




    Module State                       : N/A
                 sn




    DataPath state [per lane]          : N/A
    Rx Output Valid [per lane]         : N/A
               Ki




    Nominal bit rate                   : N/A
            ik




    Rx Power Type                      : OMA
          R




    Manufacturing Date                 : 21_09_24
    Active Set Host Compliance Code    : 800G-ETC-CR8 or 800GBASE-CR8
    Active Set Media Compliance Code   : N/A
    Error Code Response                : ConfigUndefined
    Module FW Fault                    : N/A
    DataPath FW Fault                  : N/A
    Tx Fault [per lane]                : N/A
    Tx LOS [per lane]                  : N/A
    Tx CDR LOL [per lane]              : N/A
    Rx LOS [per lane]                  : N/A
    Rx CDR LOL [per lane]              : N/A
    Tx Adaptive EQ Fault [per lane]    : N/A




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 48
                                                            L10 Compute Tray Hardware Validation


Pass or Fail Criteria
Ensure Ethernet link throughput, error, and temperature sensors are all within the
expected range.


3.7.2           CX-7 and CX-8 Mezzanine Network Card I/O
                Board InfiniBand Validation
Purpose
This section contains steps to set up and run the I/O stress write test on InfiniBand
protocol through OSFP medium from the CX-7 and CX-8 ports on the networking I/O




                                                                        VL
board.




                                                                    -N
Partner is recommended to use the ib_write_bw on Perftest package tool.




                                                 s
Test Procedure




                                            27 ab
Following are the steps for Initial setup.




                                          0: L
                                        :0 cle
1. Run mst start


                                      16 r a
2. Check mst status -v              28 l O
3. Verify mlx_0 and mlx_1 are listed as follows with mst device ‘mt4129’
                                  1- ia

Following the steps for the InfiniBand test.
                               - 1 nt
                             25 fide



1. Check ibstat, verify port state as “Active;” verify link layer as “InfiniBand.”
2. Assign IP for mlx5_0 and mlx5_1.
                           20 n
                         5 Co




    sudo ifconfig ibp3s0 11.11.11.7 // any arbitrary IP
    sudo ifconfig ibP2p3s0 11.11.11.8 // any arbitrary IP
                       39 IA




3. Arm and activate the ports.
                     22 ID




    sudo ibportstate -C mlx5_0   -P 1 -D 0 1 arm;
                  1 1 NV




    sudo ibportstate -C mlx5_1   -P 1 -D 0 1 arm;
                   ah




    sudo ibportstate -C mlx5_1   -P 1 -D 0 1 active;
    sudo ibportstate -C mlx5_0   -P 1 -D 0 1 active
                 sn




4. Port GUID and OpenSM step.
               Ki




    opensm -g <guid>
            ik
          R




5. Check mst status -v for InfiniBand ports.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 49
                                                            L10 Compute Tray Hardware Validation


6. Use the ib_write command to verify the throughput on mlx5_0.
    ib_write_bw’ -d mlx5_0 –p 11000 –F –report_gbits –D 3 –b –run_infinitely 11.11.11.7 &




                                                                       VL
                                                                   -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 50
                                                             L10 Compute Tray Hardware Validation


7. Use the ib_write command to verify the throughput on mlx5_1.
    ib_write_bw -d mlx5_1 –p 11000 –F –report_gbits –D 3 –b –run_infinitely &




                                                                        VL
                                                                    -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki




8. Verify lspci speed and with through the same command under the Ethernet test
            ik




   section:
          R




    /home/nvidia# lspci -vvvs 0002:03:00.0   | grep -i "lnk\|dev"
    /home/nvidia# lspci -vvvs 0000:03:00.0   | grep -i "lnk\|dev"
9. Verify the temperature sensors through the same command under the Ethernet test
   section:
    sensors|grep -i mlx5 -A2
10. Verify MLXLink on PCIe and cable for FOM and error checks through the same
    command under the Ethernet test section:
    sudo mlxlink -d /dev/mst/mt4129_pciconf0 -c -e -m
    sudo mlxlink -d /dev/mst/mt4129_pciconf1 -c -e -m




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 51
                                                              L10 Compute Tray Hardware Validation


Pass or Fail Criteria
Ensure InfiniBand link throughput, error, and temperature sensors are all within the
expected range.



3.8              BMC
This section details the BMC hardware testing and procedures for the GB200 and GB300
NVL systems.


3.8.1            BMC FRU Write




                                                                           VL
                                                                     -N
Purpose
Verify the BMC can access FRU EEPROM information in the Bianca compute tray.




                                                  s
                                             27 ab
Test Procedure




                                           0: L
                                         :0 cle
Use the following steps to program and verify that FRU write is successful.


                                       16 r a
1. Copy the <fru.bin> file to the BMC root directly via SSH or SFTP
                                     28 l O
2. Replace <fru.bin> with your fru bin file you want to program
                                   1- ia

3. Replace <i2c_bus_nr> with the I2C bus number the FRU you want to program is on.
                                - 1 nt


   See Table 3-9 for the I2C address and I2C bus number.
                              25 fide




4. Replace <i2c_addr> with the I2C address number of the FRU you want to program.
                            20 n




   See for the I2C address and I2C bus number.
                          5 Co




5. Write the EEPROM contents with the following command:
                        39 IA




      dd if=<fru.bin> of=/sys/class/i2c-dev/i2c-<i2c_bus_nr>/device/2-00<i2c_addr>/eeprom
                      22 ID




6. Verify that the write was successful with the command:
                   1 1 NV




      i2cdump -f -y <i2c_bus_nr> <i2c_addr>
                    ah




Table 3-9.         List of FRU EEPROMs in GB200 and GB300 Bianca Compute Tray
                  sn
                Ki




                                                             I2C Logical    I2C          Device
             ik




 #       FRU Name                             Device         Bus (BMC)      Address      Type
           R




 1       Bianca Board1 NVLink Cable3 FRU      AT24C02C       1              0x55         24c02
 2       Bianca Board1 NVLink Cable2 FRU      AT24C02C       1              0x54         24c02
 3       Bianca Board1 FRU                    24AA64         1              0x50         24c64
 4       HMC FRU                              AT24C02D       2              0x57         24c02
 5       Bianca Board0 NVLink Cable1 FRU      AT24C02C       2              0x55         24c02
 6       Bianca Board0 NVLink Cable0 FRU      AT24C02C       2              0x54         24c02
 7       Bianca Board0 FRU                    24AA64         2              0x50         24c64
 8       PDB FRU                              M24C02         6              0x50         24c02
 9       Bianca DC-SCM_1 FRU                  24AA64         9              0x50         24c64
 10      Bianca DC-SCM_0 FRU                  24AA64         9              0x51         24c64




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 52
                                                               L10 Compute Tray Hardware Validation


                                                               I2C Logical   I2C          Device
 #       FRU Name                            Device            Bus (BMC)     Address      Type
 11      BMC FRU                             CAT34C02          10            0x50         24c02
 12      IPEX Bridge 0 FRU                   M24128            14            0x55         24c128
 13      E1.s Backplane 0 FRU                M24128            14            0x56         24c128
 14      BF3 Board0 FRU                      BR24G128NUX       14            0x50         24c128
 15      IPEX Bridge 1 FRU                   M24128            15            0x55         24c128
 16      E1.s Backplane 1 FRU                M24128            15            0x56         24c128

 17      BF3 Board1 FRU                      BR24G128NUX       15            0x50         24c128

 18      OSFP Board0 FRU                     M24128            21            0x52         24c128




                                                                             VL
 19      CX7 IO Board0 FRU                   P24C04C           21            0x50         24c64




                                                                       -N
 20      Front IO FRU                        M24128            23            0x57         24c128




                                                  s
 21      1G NIC FRU                          M24128            25            0x51         24c128




                                             27 ab
 22      OSFP Board1 FRU                     M24128            33            0x52         24c128




                                           0: L
                                         :0 cle
 23      CX7 IO Board1 FRU                   P24C04C           33            0x50         24c64



                                       16 r a
                                     28 l O
Pass or Fail Criteria
                                   1- ia
                                - 1 nt


Verify that BMC has access to and can write all the FRU information
                              25 fide
                            20 n




3.8.2            BMC Power Control (STANDBY, RUN, AUX)
                          5 Co




Purpose
                        39 IA
                      22 ID




Verify the BMC firmware can control power to the compute tray. Partners must
                   1 1 NV




implement those power features to allow for Standby power, RUN power, and AUX
power cycle.
                    ah




Test Procedure
                  sn
                Ki




Following are the three different methods of power cycling the Bianca compute tray:
             ik




>     AUX power cycle (or AC power cycle for compute tray) is executed through the BMC
           R




      AUX command to the PDB (power distribution board). The PDB will turn off power to
      the Bianca compute boards, cutting power to both RUN power (12V_RUN) and Stand-
      by power (12V_STBY). For example, from the BMC run the following:
      stbypowerctrl.sh aux_cycle
>     DC power cycle is executed through the BMC to turn on or off only the RUN power
      (12V_RUN). For example, from the BMC run the following commands:
      powerctrl.sh power_on        #Turn on RUN power
      powerctrl.sh power_off       #Turn off RUN power
      powerctrl.sh power_status    #Getting RUN power status
      powerctrl.sh power_cycle     #DC power cycle




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                       VG-12022-001_v09 | 53
                                                            L10 Compute Tray Hardware Validation


>   Standby power control is executed through the BMC to turn on or off the STBY
    power (12V_STBY). For example, from the BMC run the following commands:
    stbypowerctrl.sh power_on       #Turn on STBY power
    stbypowerctrl.sh power_off      #Turn off STBY power
    stbypowerctrl.sh power_status   #Getting STBY power status

       Note: Depending on the BMC firmware implementation, partners may need to modify the
       commands to execute the RUN, STBY, and AUX power control.


Pass or Fail Criteria
>   Verify that the BMC commands are implemented correctly, and when executed, the
    compute tray STANDBY and RUN power can be controlled according to the




                                                                       VL
    commands.




                                                                   -N
>   Verify that the BMC can successfully execute an AUX power cycle.




                                                  s
                                             27 ab
3.9             System


                                           0: L
                                         :0 cle
                                       16 r a
This section details the system testing and procedures for the GB200 and GB300 NVL
                                     28 l O
systems.
                                   1- ia
                                - 1 nt


3.9.1           System Reboot and Power Cycle Stress
                              25 fide




                Testing
                            20 n
                          5 Co




Purpose
                        39 IA
                      22 ID




This test ensures that the quality of the GB200 and GB300 NVL72 compute trays do not
                   1 1 NV




deviate from their expected behavior across different modes of power reboot. Refer to
Section 3.7.2 “BMC Power Control (STANDBY, RUN, AUX)” on BMC controlled power
                    ah




cycling.
                  sn




Prerequisites
                Ki




Ensure test capabilities for logging the dmesg and lspci outputs across each reboot
            ik
          R




cycle to detect if the output is faulty.
Test Procedure
1. Perform AC power cycles on the GB200 and GB300 NVL72 compute trays
    a. Ensure all PCIe devices seen on the host system are enumerated with the
       expected speed and width using lspci. Here are examples of PCIe devices to
       check: GPU, CX-7, CX-8, BF-3, SSD, PCIe Switch, 1G NIC, and so on.
    b. Check dmesg for any unexpected PCIe AER errors
    c. Check if the full power sequencing has completed
    d. Check if all I2C end points are on bus using I2C scan
    e. Check if USB path from HMC to BMC is up



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 54
                                                         L10 Compute Tray Hardware Validation


2. Perform DC power cycles on the Bianca compute trays.
    a. Ensure all PCIe devices seen on the host system are enumerated with the
       expected speed and width using lspci. Here are examples of PCIe devices to
       check: GPU, CX-7, BF-3, SSD, PCIe Switch, 1G NIC, and so on.
    b. Check dmesg for any unexpected PCIe AER errors
    c. Check if the full power sequencing has completed.
    d. Check if all I2C end points are on bus using I2C scan
    e. Check if USB path from HMC to BMC is up
3. Perform Warm Reboot power cycles on the Bianca compute trays.
    a. Ensure all PCIe devices seen on the host system are enumerated with the
       expected speed and width using lspci. Here are examples of PCIe devices to




                                                                    VL
       check: GPU, CX-7, BF-3, SSD, PCIe Switch, 1G NIC, and so on.




                                                                 -N
    b. Check dmesg for any unexpected PCIe AER errors




                                                  s
    c. Check if the full power sequencing has completed




                                             27 ab
    d. Check if all I2C end points are on bus using I2C scan




                                           0: L
                                         :0 cle
    e. Check if USB path from HMC to BMC is up


                                       16 r a
Pass or Fail Criteria                28 l O
>   For each AC cycle, there are no issues with PCIe, InfiniBand, power sequencing, I2C
                                   1- ia

    bus scan, and USB checks.
                                - 1 nt
                              25 fide



>   For each DC cycle, there are no issues with PCIe, InfiniBand, power sequencing, I2C
    bus scan, and USB checks.
                            20 n
                          5 Co




>   For each Warm Reboot cycle, there are no issues with PCIe, InfiniBand, power
    sequencing, I2C bus scan, and USB checks.
                        39 IA
                      22 ID




3.9.2           Wide Area Test
                   1 1 NV
                    ah




Purpose
                  sn




The wide area test (WAT) test is a series of 24-hour stress tests for the fully assembled
                Ki




compute tray. WAT test typically is done on multiple units to ensure that the hardware
            ik




functions when scaled to a larger number of units.
          R




Prerequisites
WAT test should be done on full-featured enabled hardware samples. This means full-
featured firmware and a fully populated compute tray. Firmware does not need to be
optimized for this test.
Test Procedure
Partners can utilize the NVQual package and Partner Manufacturing Diag and select the
corresponding tests and loop for 24 hours.
Refer to the NVQual User’s Guide (NVOnline: 1119931) for instructions on creating test
loops to create WAT testing.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 55
                                                                  L10 Compute Tray Hardware Validation


Table 3-10.       Compute Tray WAT
 ID        Subcategory                 Test Item Description                  Expected Results
 SY.14     Tray CLink WAT              Run multiple loops of NVQual CLink     Compute tray passes
                                       test for 24 hours (NVQual Test #8)     without errors
 SY.15     Tray NVLink WAT             Run multiple loops of NVQual NVLink    Compute tray passes
                                       test for 24 hours (NVQual Test #9)     without errors
 SY.16     Tray PCIE WAT               Run multiple loops of NVQual PCIe      Compute tray passes
                                       tests for 24 hours (NVQual Test #16    without errors
                                       - #21)
 SY.17     Tray Thermal/Power WAT      Do extended continues                  Compute tray passes
                                       thermal/power stress for 24 hours      without errors
                                       (Run power/thermal stress test




                                                                              VL
                                       continuously). Stress at module max




                                                                             -N
                                       spec.




                                                  s
                                             27 ab
Pass or Fail Criteria




                                           0: L
                                         :0 cle
For each of the WAT tests, partners should check the NVQual tests passed without fail.

                                       16 r a
Partners are not required to submit the WAT test logs back to NVIDIA.
                                     28 l O
                                   1- ia

3.9.3           Reboot WAT
                                - 1 nt
                              25 fide




Purpose
                            20 n




The wide-area test (WAT) test is a series of 24-hour stress tests to for the fully
                          5 Co




assembled compute tray. WAT test typically is done on multiple units to ensure that the
                        39 IA




hardware functions when scaled to a larger number of units.
                      22 ID




Prerequisites
                   1 1 NV




WAT test should be done on full-featured enabled hardware samples. This means full-
                    ah




featured firmware and a fully populated compute tray. Firmware does not need to be
                  sn




optimized for this test.
                Ki




Test Procedure
            ik
          R




Partners should perform each of the reboot stress tests for 1000x cycles to ensure that
their system can reliably reboot upon every cycle.

Table 3-11.       Reboot WAT
 ID        Subcategory               Test Item Description                   Expected Results
 SY.14     Warm reboot stress test   1000x Warm reboots, check for           Ensure reliable OS boot and
                                     reliable power control and ensure OS,   constant PCIe and MCTP
                                     PCIe, MCTP, SSIF and FPGA stability     enumeration and FPGA
                                     each cycle                              stability
 SY.15     AC reboot stress test     1000x AC cycles by completely           Ensure reliable OS boot and
                                     removing power from tray, check for     constant PCIe and MCTP
                                     reliable power control and ensure OS,



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                            VG-12022-001_v09 | 56
                                                                   L10 Compute Tray Hardware Validation


 ID        Subcategory                Test Item Description                   Expected Results
                                      PCIe, MCTP, SSIF and FPGA stability     enumeration and FPGA
                                      each cycle                              stability
 SY.16     DC reboot stress test      1000x DC cycles (run power and          Ensure reliable OS boot and
                                      standby power from BMC), check for      constant PCIe and MCTP
                                      reliable power control and ensure OS,   enumeration and FPGA
                                      PCIe, MCTP, SSIF and FPGA stability     stability
                                      each cycle



3.9.4            L10 Partner Diagnostics WAT
Purpose




                                                                               VL
WAT test typically is done on multiple units to ensure that the hardware functions when




                                                                              -N
scaled to a larger number of units.




                                                  s
Ensure the compute tray function and performance by running through an extended




                                             27 ab
loop test of the L10 partner diagnostics for the compute tray.




                                           0: L
                                         :0 cle
Prerequisites


                                       16 r a
Partners must use the latest test fixtures and loopback cables for CX-7, CX-8, and BF-3
                                     28 l O
as listed on the GB200 NVL72 Manufacturing Product Engineering and Test Playbook
                                   1- ia

(NVOnline: 1123054) and the GB300 NVL72 Mfg Product Engg Test Playbook (NVOnline:
                                - 1 nt


1131118).
                              25 fide
                            20 n




Table 3-12.        BF-3, CX-7, CX-8, NVLink, Loopback Cable, and Test Cage
                          5 Co




 Item                                   Supplier                    Part Number
                        39 IA
                      22 ID




 BF-3 Loopback cable1                   Amphenol                    NAAAFQ-N906 (0.5 m)
                   1 1 NV




                                        NVIDIA                      MCP4Y10-N00A-FLT
 CX-7 Loopback cable2
                                        Amphenol                    NALLFQ-N906 (0.5 m)
                    ah




 CX-8 Loopback cable                    Amphenol                    NALLG3-N906
                  sn
                Ki




 Test cage (Mini cable cartridge)       EPD5                        1A724D100-600-G
             ik




 NVLink Loopback cable                  Amphenol                    HS32838-001
          R




 Notes:
 1NAAAFQ-N906: 0.5m, QSFP 112G PAM4, 32 AWG cable with FRU EEPROM for IB and Ethernet in CMIS

  format, compatible with BF3 QSFP Ports.
 2NALLFQ-N906: 0.5m, OSFP RHS-RHS, 112G PAM4, 32 AWG cable with FRU EEPROM for IB and Ethernet

  in CMIS format, compatible with CX-7 I/O.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                             VG-12022-001_v09 | 57
                                                               L10 Compute Tray Hardware Validation


Test Procedure
1. Set up the CX-7, CX-8, and BF-3 loopback cables as outlined in the GB200 and GB300
   NVL72 Manufacturing Product Engineering and Test Playbook (NVOnline: 1123054,
   and 1131118).
      a. Follow the recommended cabling to minimize cable stress on the OSFP contact
         and interference between MTF (manufacturing test fixture) slots.
2. Run through the L10 Partner Diagnostics 10x times and ensure that their system
   passes every iteration of the partner diagnostics.
Pass or Fail Criteria
All iterations of the L10 partner diagnostics passes.




                                                                            VL
                                                                        -N
3.10            Environmental, Reliability, and




                                                 s
                                            27 ab
                Electromagnetic Compatibility


                                          0: L
                                        :0 cle
NVIDIA recognizes the diversity of potential use cases that system partners may

                                      16 r a
encounter. The following test lists are guidance from NVIDIA for the areas concerning
                                    28 l O
environmental factors, reliability, and robustness.
                                  1- ia

Partners are recommended to modify and or conduct additional testing that may be
                               - 1 nt


necessary for their specific use case and ensure that all potential scenarios are
                             25 fide




addressed appropriately.
                           20 n
                         5 Co




3.10.1          L10 Package Testing
                       39 IA
                     22 ID




Purpose
                  1 1 NV




The purpose of performing package testing is to ensure that the packaged compute
                   ah




tray can withstand the physical stress it may encounter during transportation, storage,
                 sn




and handling.
               Ki




Test Procedure
             ik




Partners should test to the industrial test standards of ISTA. Perform the test items in
           R




the following table using the test conditions highlighted in the “Test Item Description”
column.

Table 3-13.       L10 Packaging Test Summary
 ID        Subcategory              Test Item Description                   Test Procedure
                                    Run functional test on the product
           Package/Product Visual   using the latest manufacturing
                                                                            Visual inspection and MFG
 PK.1      Inspection and Product   diagnostic. Perform visual inspection
                                                                            Diagnostics
           Functional PRE-Test      and record all noted cosmetic
                                    observations




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                         VG-12022-001_v09 | 58
                                                                       L10 Compute Tray Hardware Validation


 ID        Subcategory                    Test Item Description                   Test Procedure
                                          Packaged product shall be
           Atmospheric Pre-               preconditioned to laboratory
 PK.2                                                                             ISTA 3B, Block #1
           Conditioning                   ambient temperature and humidity
                                          for minimum of 12 hours
                                          [Hot, Humid] then [Extreme Heat,
           Atmospheric Conditioning
                                          Moderate RH]
 PK.3      (Required only for non rigid                                           ISTA 3B, Block #1
                                          [38°C, 85% RH for 72 hours] then
           containers)
                                          [60°C, 30% RH for 6 hours]
                                          Test up to 22-degree angle, without
                                          letting fall. Report on center of
                                          gravity tilt angle.




                                                                                  VL
                                          If packaged product fail this test,
 PK.4      Tip Test                                                               ISTA 3B, Block #2
                                          DO NOT let it fall to the floor.




                                                                              -N
                                          Gently return the product to upright
                                          position and note failure. Continue




                                                  s
                                             27 ab
                                          testing.




                                           0: L
                                          Drop height 6 in (150 mm) for




                                         :0 cle
 PK.5      Shock – Rotational Drop        packaged products weighing 500 lb       ISTA 3B, Block #5
                                          (230 Kg) or more

                                       16 r a
           Shock – Incline or
                                     28 l O
                                          Impact velocity 48 in/sec (1.2 m/sec)
 PK.6                                                                             ISTA 3B, Block #6
           Horizontal Impact              minimum or 3 in (76 mm) drops
                                   1- ia

           Truck Vibration - Random
                                - 1 nt


 PK.7                                     Overall 0.54 Grms, 120 minutes          ISTA 3B, Block #9
                              25 fide



           with top load
                                          Combination of High (0.29Grms),
                                                                                  ASTM D4169-23, section
                            20 n




 PK.8      Air Vibration - Random         Medium (0.22 Grms) and Low (0.16
                          5 Co




                                                                                  12.4.2.2
                                          Grms) air profile; 120 minutes
                        39 IA




           Concentrated Impact
                      22 ID




 PK.9      (Required only for non rigid   Free-fall, or guided fall drop          ISTA 3B, Block #10
                   1 1 NV




           containers)
                                          Flat Push and Rotate Tests, Elevated
           Fork Lift Handling
                    ah




                                          Push and Pull Tests, Elevated Rotate
 PK.10     (Required only for non rigid                                           ISTA 3B, Block #15
                  sn




                                          Tests, Load stability test over a
           containers)
                                          handling course.
                Ki




                                          Drop height 6 in (150 mm) for
            ik
          R




 PK.11     Shock – Rotational Drop        packaged products weighing 500 lb       ISTA 3B, Block #13
                                          (230 Kg) or more
           Shock – Incline or             Impact velocity 48 in/sec (1.2 m/sec)
 PK.12                                                                            ISTA 3B, Block #14
           Horizontal Impact              minimum or 3 in (76 mm) drops
                                          Run functional test on the product
           Package/Product Visual         using the latest manufacturing
                                                                                  Visual inspection and MFG
 PK.13     Inspection and Product         diagnostic. Perform visual inspection
                                                                                  Diagnostics
           Functional POST-Test           and record all noted cosmetic
                                          observations




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                               VG-12022-001_v09 | 59
                                                                      L10 Compute Tray Hardware Validation


Pass or Fail Criteria
Test items in Table 3-13 are completed and passed. The product did not sustain any
damage.
>     Product is damage-free; no structural damage including no detached, loose,
      fractured, or deformed material part(s)
>     Product cosmetic areas are not degraded beyond manufacturing or final acceptance
      criteria. Cosmetic damage is any abnormality that makes the product unacceptable
      to the customer.
>     No conductive particles (wire, connectors, and so on) should be exposed because of
      the testing.
>     The product should meet all manufacturing specifications and tolerances after




                                                                                 VL
      testing




                                                                             -N
>     All product electrical and software functions perform to specification




                                                  s
                                             27 ab
3.10.2           Shock and Vibration Test



                                           0: L
                                         :0 cle
Purpose

                                       16 r a
                                     28 l O
The purpose of shock and vibration testing is to ensure that the compute tray can
withstand physical stress during transportation, handling, and operation. The testing
                                   1- ia

simulates the effects of sudden impacts and continuous or repetitive movements to
                                - 1 nt
                              25 fide



verify the compute tray's durability and functionality.
Test Procedure
                            20 n
                          5 Co




Perform the test items in the following table using the test conditions highlighted in the
                        39 IA




“Test Item Description” column.
                      22 ID
                   1 1 NV




Table 3-14.        Shock and Vibration Test Summary
                    ah




 ID         Subcategory              Test Item Description                       Expected Results
                  sn




 SV.1       Vibration Random         Freq (Hz) / PSD level (G2/Hz) / Slope       No permanent system
                Ki




            (Operating)              (dB/Oct)                                    damage, no parts or
                                                                                 connectors dislodged and
             ik




                                     5-10 / - / +12
           R




                                                                                 the system stays
                                     10-50 / 0.0002 / -
                                                                                 operational.
                                     50-100 / - / -12
                                     nominal of 0.1 Grms (X, Y, Z)
                                     30 min/axis / 0F
 SV.2       Vibration Sinusoidal     5-500-5 Hz, 1.0 oct/min                     No permanent system
            (Operating)              0.1G, one sweep/axis, (Z) only              damage, no parts or
                                                                                 connectors dislodged and
                                     1 sweep / 0F
                                                                                 the system stays
                                                                                 operational.
 SV.3       Vibration Random (Non-   Freq (Hz) / PSD level (G2/Hz) / Slope       No permanent system
            Operating)               (dB/Oct)                                    damage and no parts or
                                     0.0002 G2/Hz at 2 Hz                        connectors dislodged.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                              VG-12022-001_v09 | 60
                                                                        L10 Compute Tray Hardware Validation


 ID        Subcategory                Test Item Description                        Expected Results
                                      0.01 G2/Hz at 12 Hz
                                      0.01 G2/Hz at 100 Hz
                                      0.00001 G2/Hz at 500 Hz
                                      nominal of 1.1 Grms
                                      15 min, Z axis
                                      Bottom, Top, Left, Right, Front, Back /
                                      0F
 SV.4      Vibration Sinusoidal       5-500-5 Hz, 0.25 oct/min                     No permanent system
           (Non-Operating)            0.5 G, one sweep/axis, (Z) only              damage and no parts or
                                                                                   connectors dislodged.
                                      0.25 G, one sweep/axis, (X, Y)




                                                                                   VL
                                      1 sweep per axis / 0F




                                                                                  -N
 SV.5      Mechanical Shock           See Table 3-15 for items marked with         No permanent system
           (Operating)                “x” for required test G level and test       damage, no parts or




                                                 s
                                            27 ab
                                      setup.                                       connectors dislodged and
                                                                                   the system stays




                                          0: L
                                      Total 18x shocks (half-sine)
                                                                                   operational.




                                        :0 cle
 SV.6      Mechanical Shock (Non-     See Table 3-16 for items marked with         No permanent system


                                      16 r a
           Operating)                 “x” for required test G level and test
                                    28 l O                                         damage and no parts or
                                      setup.                                       connectors dislodged.
                                  1- ia

                                      Total 6x shocks (trapezoidal)
                               - 1 nt
                             25 fide




Table 3-15.       Mechanical Shock – Half Sine (Operating)
                           20 n
                         5 Co




 System Weight (lbs)           3G/11 ms        6G/11 ms          Test Setup
                       39 IA




 1U/2U       < 70 lbs          --              x                 3 axes: ±X, ±Y, ±Z
                     22 ID




             > 70 lbs          x               Desired           3 shocks each direction
                  1 1 NV




 4U          < 200 lbs         x               Desired
                   ah




             > 200 lbs         x               --
                 sn




 6U          > 200 lbs         x               --
               Ki
            ik




Table 3-16.       Mechanical Shock – Trapezoidal (Non-operating)
          R




 System Weight (lbs)      15G/11 ms       20G/11 ms       30G/11 ms          40G/11 ms      Test Setup
 1U/2U     < 70 lbs       --              --              x                  Desired        6 sides: Bottom,
                                                                                            Top, Left, Right,
                                                                                            Front, Back
           > 70 lbs       --              x               Desired            --             6 sides: Bottom,
                                                                                            Top, Left, Right,
                                                                                            Front, Back
 4U        < 200 lbs      --              x               --                 --             6 sides: Bottom,
                                                                                            Top, Left, Right,
                                                                                            Front, Back
           > 200 lbs      x               --              --                 --             3 axes: X, Y, Z




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                 VG-12022-001_v09 | 61
                                                                    L10 Compute Tray Hardware Validation


 System Weight (lbs)       15G/11 ms    20G/11 ms       30G/11 ms         40G/11 ms      Test Setup
                                                                                         Bottom side down
 6U        > 200 lbs       x            --              --                --             3 axes: X, Y, Z
                                                                                         Bottom side down



Pass or Fail Criteria
Test items in Table 3-14 are completed and passed.


3.10.3          Environmental Reliability Test




                                                                                VL
Purpose




                                                                               -N
The purpose of the environmental reliability test is to evaluate the hardware's ability to




                                                  s
operate effectively and reliably under various environmental conditions, such as




                                             27 ab
temperature extremes, humidity, and altitude.




                                           0: L
                                         :0 cle
Test Procedure


                                       16 r a
Perform the test items in the following table using the test conditions outlined in the
                                     28 l O
“Test Item Description” column.
                                   1- ia
                                - 1 nt


Table 3-17.        Reliability Test Summary
                              25 fide




 ID        Subcategory                 Test Item Description                    Expected Results
                            20 n
                          5 Co




 R.1       Tray Reliability Pre-       No device is missing and                 The system is stable and
           Baseline                    Partner_MFG_Diag must pass.              passes all tests.
                        39 IA




 R.2       Tray Reliability            1. 25°C, 50% RH for 1 hour               No permanent system
                      22 ID




           Temperature and Humidity    2. -40°C, No Humidity control for 16     damage or degradation
                   1 1 NV




           (Non-Operating)             hours
                    ah




                                       3. 70°C, 10% RH for 16 hours
                  sn




                                       4. 70°C, 90% RH for 16 hours
                Ki




                                       5. 40°C, 93% RH for 96 hours
            ik




                                       6. 25°C, 50% RH for 4 hour
          R




                                       > Max Ramp rate : 20°C per hour;
                                         20% RH/hr
                                       > Wet vs. Dry, based on product
                                         spec
 R.3       Tray Reliability            1. 25°C, 50% RH for 1 hour               No permanent system
           Temperature and Humidity    2. 0°C, No Humidity control for 24       damage or degradation
           (Operating)                 hours
                                       3. Max temp1 °C, 50% RH for 24
                                       hours
                                       4. 31°C, 85% RH for 24 hours
                                       5. 25°C, 10% RH for 24 hours




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                              VG-12022-001_v09 | 62
                                                                       L10 Compute Tray Hardware Validation


 ID        Subcategory                    Test Item Description                   Expected Results
                                          > Max Ramp1 rate: 20°C per hour;
                                            20% RH/hr
 R.4       Tray Reliability Thermal       Ta: 0°C to 100°C                        No permanent system
           cycling (Non-Operating)        15 min dwell, ramp rate 10°C/min        damage

                                          100 cyc / 0F
 R.5       Tray Reliability Thermal       Ta: -20°C to 85°C,                      No permanent system damage
           Shock (Non-Operating)          30°C/min, 1 hr dwell
                                          127 min/cyc
                                          100 cyc / 0F
 R.6       Tray Reliability Connector     50 cycles / 0F                          No permanent system




                                                                                  VL
           Durability                                                             damage or degradation




                                                                                 -N
 R.7       Tray Reliability Hard Boot     1. 0°C for 500 boot cycles              No boot failures and no
           (AC Power ON/OFF) low          2. 500 cyc / 2F                         permanent system damage




                                                  s
                                             27 ab
           temperature                                                            or degradation
                                          3. 50% R.H.




                                           0: L
 R.8       Tray Reliability Hard Boot     1. Max Temp1 °C for 500 boot cycles     No boot failures and no




                                         :0 cle
           (AC Power ON/OFF) high         2. 500 cyc / 2F                         permanent system damage


                                       16 r a
           temperature                                                            or degradation
                                          3. 50% R.H.
                                     28 l O
 R.9       Tray Reliability Soft Boot     1. 0°C for 500 boot cycles, 50% R.H.    No boot failures and no
                                   1- ia

           (OS Power ON/OFF) low          2. 500 cyc / 3F                         permanent system damage
                                - 1 nt


           temperature                                                            or degradation
                              25 fide



                                          3. 50% R.H.
 R.10      Tray Reliability Soft Boot     1. Max Temp1 °C for 500 boot cycles     No boot failures and no
                            20 n




           (OS Power ON/OFF) high                                                 permanent system damage
                          5 Co




                                          2. 500 cyc / 3F
           temperature                                                            or degradation
                                          3. 50% R.H.
                        39 IA




 R.12      Tray Reliability Four Corner   Max Temp1 ℃, +5% voltage, run           Systems functions normally
                      22 ID




           High Temp and High             diagnostics x1 loop                     with no failures or damage
                   1 1 NV




           Voltage
                    ah




 R.13      Tray Reliability Four Corner   Max Temp1 ℃, -5% voltage, run           Systems functions normally
           High Temp and Low              diagnostics x1 loop                     with no failures or damage
                  sn




           Voltage
                Ki




 R.14      Tray Reliability Four Corner   0℃, +5% for 0.5 hours                   Systems functions normally
            ik




           Low Temp and High                                                      with no failures or damage
          R




           Voltage
 R.15      Tray Reliability Four Corner   0℃, -5% for 0.5 hours                   Systems functions normally
           Low Temp and Low                                                       with no failures or damage
           Voltage
 R.16      Tray Reliability               1. 25°C, for 1 hour                     No permanent system
           Temperature and Altitude       2. -40°C, 40000 ft for 10 hours         damage or degradation
           (Non-Operating)
                                          3. 70°C, 40000 ft for 10 hours
                                          > Ramp rate: not exceed 1°C / min,
                                            50 mbar/min
                                          > Wet vs. Dry, based on product
                                            specification




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                VG-12022-001_v09 | 63
                                                                     L10 Compute Tray Hardware Validation


 ID        Subcategory                 Test Item Description                    Expected Results
 R.17      Tray Reliability            1. 5°C, 1,000 ft                         No permanent system
           Temperature and Altitude    2. 25°C, 10,000 ft                       damage or degradation
           (Operating)
                                       3. 5°C, 10,000 ft
                                       4. 5°C, 5,000 ft
                                       5. 25°C, 5,000 ft
                                       6. 30°C, 5,000 ft
                                       7. 30°C, 1,000 ft
                                       8. Max Temp1 °C, 1000 ft
                                       >   8-hr dwell at each point
                                       >   Ramp rate: not exceed 1°C/min,




                                                                                VL
                                           50 mbar/min




                                                                            -N
 R.19      Tray Reliability CMTBF      1. Telcordia SR-332 Issue 4              Ensure system CMTBF
           Analysis                    2. Method I, Case 1                      meets expectations and if




                                                  s
                                             27 ab
                                                                                there are preventable
                                       3. 25°C and Max. Temp °C
                                                                                failures those are




                                           0: L
                                       4. Ground benign operating               highlighted




                                         :0 cle
                                       environment


                                       16 r a
 R.20      Tray Reliability DMT        Functional test at 35°C for ~60 days.
                                     28 l O                                     No permanent system
                                       Tested on 4x trays                       damage or degradation
                                   1- ia

 R.25      Tray Reliability Post       No device is missing and diag must       System is stable and passes
                                - 1 nt


           Baseline                    pass                                     all tests and performance is
                              25 fide



                                                                                equivalent to pretest
                                                                                baseline.
                            20 n
                          5 Co




 Note:
 1Max Temp is the max operational and non-operational temperature per product specification.
                        39 IA
                      22 ID
                   1 1 NV




Pass or Fail Criteria
                    ah




The test items in Table 3-17 are completed and passed.
                  sn
                Ki




3.10.4          Electromagnetic Compatibility
            ik
          R




Purpose
The purpose of electromagnetic compatibility (EMC) testing for server products is to
ensure that the servers operate reliably without causing or being affected by
electromagnetic interference in their intended environment.
Partners must perform EMC testing according to their intended regulatory standards
for electromagnetic emissions and immunity. The following tests can be used for
partner reference.
Test Procedure
Perform the test items in the following table according to the government standards
outlined in the “Reference Standards” column.


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                             VG-12022-001_v09 | 64
                                                                   L10 Compute Tray Hardware Validation


Table 3-18.        EMC Tests Summary
 ID        Subcategory                 Test Item Description                  Reference Standards
 EM.1      Radiated emissions per      6dB under the class A limit line       EN55032 / FCC CFR 47 Part
           standard EN55032                                                   15 Subpart B
 EM.2      Conducted emissions         6dB under the class A limit line       EN55032 / FCC CFR 47 Part
                                                                              15 Subpart B
 EM.3      Harmonic current emission   Limits for harmonic current            EN 61000-3-2 or
                                       emissions (equipment input current     EN 61000-3-11 (>16A and
                                       ≤16 A per phase)                       ≤75A per phase)
 EM.4      Voltage fluctuations and    Limitation of voltage fluctuations     EN 61000-3-3 or
           flicker                     and flicker in low-voltage supply      EN 61000-3-12(>16A and




                                                                              VL
                                       systems for equipment with rated       ≤75A per phase)
                                       current ≤16 A




                                                                            -N
 EM.5      Electro-static Discharge    ±8kV Contact discharge, ±15kV Air      EN61000-4-2




                                                  s
                                       discharge




                                             27 ab
                                       Device shows a malfunction but




                                           0: L
                                       recovers automatically (without user




                                         :0 cle
                                       interaction) and then continues to


                                       16 r a
                                       operate normally.
                                     28 l O
 EM.6      Radiated Radio Frequency,   1kHz 80% AM modulation, radiated       EN61000-4-3
                                   1- ia

           Electric Field Immunity     electromagnetic field of 3 V/m
                                - 1 nt


                                       > 80 MHz to 1 GHz
                              25 fide




                                       > 1800 MHz (±1 %)
                            20 n




                                       > 2600 MHz (±1 %)
                          5 Co




                                       > 3500 MHz (±1 %)
                        39 IA




                                       > 5000 MHz (±1 %)
                      22 ID




 EM.7      Electrical Fast Transient   ±2kV Mains                             EN 61000-4-4
                   1 1 NV




           Burst                       ±1kV signal ports >3m
 EM.8      Surge                       Test 1.2/50 (8/20) μs                  EN 61000-4-5
                    ah




                                       > ±1.2kV differential
                  sn




                                       > ±2.2kV common
                Ki




 EM.9      Radio-Frequency Fields      1 kHz 80% AM modulation                EN61000-4-6
            ik
          R




                                       > 150 kHz to 10 MHz injected level
                                         of 3 Vrms
                                       > 10 MHz to 30 MHz injected level
                                         of 3 to 1 Vrms
                                       OPSSIEMC4001 18 June 2021
                                       > 30 MHz to 80 MHz injected level
                                         of 1 Vrms
 EM.10     Magnetic Fields             Magnetic field of 3A/m at 50Hz         EN61000-4-8
 EM.12     Tray Safety Test            CB and UL/cTUVus                       IEC 62368-1 ED2 +ED3,
                                                                              UL62368-1 ED3




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 65
                                                       L10 Compute Tray Hardware Validation


Pass or Fail Criteria
The test items in Table 3-18 or partner-selected regulatory standards are completed and
passed.




                                                                  VL
                                                              -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                               VG-12022-001_v09 | 66
Chapter 4. L10 Compute Tray System
           Software




                                                                              VL
Partners should review the corresponding software collaterals outlined in Table 4-1 and




                                                                           -N
implement the necessary features before starting the compute tray software validation.




                                                 s
Refer to the latest Grace Software Partner Enablement (NVOnline: 1093429) deck for a




                                            27 ab
full list of relevant software collaterals.




                                          0: L
                                        :0 cle
                                      16 r a
Table 4-1.        Reference Documentation and Collateral
                                    28 l O
 NVOnline ID      Title                                                      Focus Area
                                  1- ia

 1093429          Grace Software Partner Enablement                          All
                               - 1 nt
                             25 fide



 1099753          Grace Firmware Reference Guide                             Boot Firmware
 1097474          Grace UEFI External Architecture Specification             Boot Firmware
                           20 n
                         5 Co




 1110059          SBIOS Requirements for NVIDIA Grace Server Platforms       Boot Firmware
 1105630          Grace Platform SBIOS Build Tools and UEFI Reference Code   Boot Firmware
                       39 IA
                     22 ID




 1086146          Grace System PLDM Product Descriptor Record                Boot Firmware
                  1 1 NV




 1094659          Grace OpenBMC External Architecture Specification          Baseboard Management
 1116996          GB200 NVL Firmware External Architecture Specification     Baseboard Management
                   ah




 1110060          BMC Requirements for NVIDIA Grace Server Platforms         Baseboard Management
                 sn
               Ki




 1096064          NVIDIA Grace Baseboard Redfish Model and Schema Guide      Baseboard Management
             ik




 1092300          NVIDIA Data Center Products Telemetry Catalog              Baseboard Management
           R




 1030060          SMBUS Post Box Interface (SMBPBI) for NVIDIA               Baseboard Management
                  Baseboards
 1099558          Grace Baseboard Firmware Update and Security Guide         Baseboard Management
 1090539          Grace OpenBMC Reference Code                               Baseboard Management
 1098624          Device Ownership Transfer External Architecture            ERoT, DOT, Security
                  Specification
 1105290          NVIDIA Device Ownership Transfer User Guide                ERoT, DOT, Security
 1109481          NVIDIA SPDM Measurement Block Definition                   ERoT, DOT, Security
 1109972          MCTP Vendor Defined Messages for CEC1736                   ERoT, DOT, Security
 1100855          NVIDIA Grace RAS Overview                                  RAS
 1116117          NVIDIA Server RAS Catalog                                  RAS



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                             VG-12022-001_v09 | 67
                                                                        L10 Compute Tray System Software


 NVOnline ID         Title                                                       Focus Area
 1115302             NVIDIA CPER Catalog                                         RAS
 1109712             Debug and RAS Guide for NVIDIA Data Center Products         RAS
 1116450             NVIDIA Defined CPER Extension to Arm LibCper                RAS



The definitive deliverable for L10 software validation is the successful completion and
subsequent submission of the NVSSVT and NVRAS Tool. This ensures a standardized
measure of software quality across our partner platforms.
Refer to the Section 1.2.2 “NVSST” for more information on running the NVSSVT for
software validation.




                                                                                 VL
                                                                            -N
4.1             System Software Validation




                                                 s
                                            27 ab
                Guidelines


                                          0: L
                                        :0 cle
Partners are strongly encouraged to review the software requirements documentation
                                      16 r a
                                    28 l O
to formulate their software test plan. The software areas of interest in this section can
serve as a basis for partners to formulate their software test plans.
                                  1- ia
                               - 1 nt


Partners are recommended to modify or conduct additional testing that may be
                             25 fide




necessary for their specific use case. For example, partners can develop test cases to
validate areas such as the ones in Table 4-2.
                           20 n
                         5 Co
                       39 IA




Table 4-2.           System Software Validation Example
                     22 ID




 Category                       Feature to Check
                  1 1 NV




 BMC                            Check BMC firmware features against NVIDIA BMC architecture
                   ah




                                specifications
                 sn




                                Verify CPER log support
               Ki




                                Verify POST Code capture
                                Verify time management such as RTC, NTP
             ik
           R




                                Check for User Management: LDAP & AD user
                                Device Ownership Transfer (DOT) for Grace CPUs
 IPMI                           IPMI Standard 2.0- Compliance
                                IPMI Network Management: Static IP, DHCP
                                IPMI SDR (Sensor Data Record), System Event Log (SEL)
                                IPMI User Management- IPMI users and Role Back Access Control
                                IPMI - RMCP+ Support Only
                                IPMI – SOL (serial over lane) feature
                                IPMI Chassis control – power management, PEX boot
 Inventory check                Check for server hardware, FRU inventory, firmware and software inventory
 Firmware security              TPM function check




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                              VG-12022-001_v09 | 68
                                                                   L10 Compute Tray System Software


 Category                 Feature to Check
                          Verify secure boot support
                          Verify write-protect feature for Host BMC control of the motherboard
 Firmware update          Verify motherboard APs and ERoTs are capable of firmware upgrade
                          OOB Host BMC firmware update for all APs (CPU, GPU, FPGA, and so on) and
                          ERoTs
                          Firmware update rollback – retain previous good images before failed
                          firmware update
 SBIOS                    Check SBIOS features against NVIDIA SBIOS architecture specifications
                          OS installation via USB, PXE, HTTP boot, virtual media
 Redfish Implementation   Verify Redfish API implementation, such as:




                                                                             VL
                          > Redfish Root, Redfish Managers, Redfish LogServices




                                                                         -N
                          > UEFI settings control by Redfish
                          > System Boot by Redfish




                                                 s
                                            27 ab
                          > Remote chassis power management by Redfish




                                          0: L
 Telemetry                Check for in-band and OOB telemetry implementation against the NVIDIA




                                        :0 cle
                          Telemetry Catalog


                                      16 r a
 Server RAS               Verify features against server RAS catalog
                                    28 l O
                          Verify features NVIDIA CPER catalog
                                  1- ia

                          Verify EINJ (error injection) response against error catalog
                               - 1 nt


 Benchmarks               Test system against performance benchmark suites:
                             25 fide




                          > nvbandwidth
                           20 n




                          > NCCL
                         5 Co




                          > Fuse Multiple Add for Grace CPU
                       39 IA




                          > DGEMM
                     22 ID




                          > Multichase
                  1 1 NV




                          > OpenSSL
                          > cublasMatMulBnech
                   ah




                          > IdelLatency
                 sn




                          > L1L3Latency, and so on
               Ki
              ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                          VG-12022-001_v09 | 69
Chapter 5. L11 Server Rack Hardware
           Validation




                                                                            VL
This chapter describes the hardware validation items of the L11 server rack.




                                                                        -N
                                                 s
                                            27 ab
5.1             Rack Power


                                          0: L
                                        :0 cle
This section details the rack power testing and procedures for the GB200 and GB300

                                      16 r a
NVL systems.                        28 l O
Partners must work with their facility and lab safety personnel when performing rack-
                                  1- ia

level power validation and review the following points before conducting measurements.
                               - 1 nt
                             25 fide




       Caution: Working with 3-phase AC power can be extremely dangerous. To ensure safety,
                           20 n




       adhere to the following guidelines:
                         5 Co




       >   Qualified Personnel Only: Ensure that all test setups are verified by a qualified
                       39 IA




           electrician before proceeding.
                     22 ID




       >   Personal Protective Equipment (PPE): When necessary, wear appropriate PPE,
                  1 1 NV




           including insulated gloves, safety glasses, and protective clothing.
       >   Clear Area: Keep the test area clear of unnecessary personnel and equipment. Ensure
                   ah




           that all non-essential personnel are at a safe distance.
                 sn




       >   Emergency Procedures: Familiarize yourself with emergency procedures and ensure
               Ki




           that emergency shutdown mechanisms are easily accessible.
            ik




       >   Proper Grounding: Verify that all equipment is properly grounded to prevent electrical
           R




           shock.
       >   Signage and Barriers: Use clear signage and physical barriers to mark high voltage
           areas and restrict access.
       >   Double-Check Connections: Before powering up, double-check all connections and
           ensure that they are secure and correctly configured.
       >   Stay Alert: Always stay alert and focused when working with high voltage equipment.
           Avoid distractions and never work alone.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                         VG-12022-001_v09 | 70
                                                             L11 Server Rack Hardware Validation



5.1.1           Rack Power Startup and Shutdown
Purpose
Verify the server rack power startup and shutdown behavior is within the bus bar power
specification.
Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test conditions
Test under the following input voltage conditions: 200, 208, 220, 240, 277, and 305 VAC.




                                                                       VL
Test with the following redundancy configurations:




                                                                  -N
>   All PSUs operational (N+1 per shelf, N+1 per rack)




                                                 s
                                            27 ab
>   PSUs in non-redundant configuration depending on the rack redundancy model (N+0)




                                          0: L
Test Procedure




                                        :0 cle
For each test condition follow these steps:

                                      16 r a
1. Turn on all PSU AC input at the same time
                                    28 l O
2. Turn on A-feed group or B-feed group staggard (if an N+N redundancy model) with 1-
                                  1- ia
                               - 1 nt


   second, 10-second, 30-second, or 60-second delay between feed group powering.
                             25 fide



3. Turn on on-whips 1-by-1 with at least 10-second delay between whips.
                           20 n




4. Measure and record the following parameters for each test condition:
                         5 Co




    a. Startup and shutdown sequence
                       39 IA




    b. DC bus bar voltage
                     22 ID




    c. Vshare bus for power shelves
                  1 1 NV




    d. AC input current, AC input voltage
                   ah




    e. PSC (power shelf controller) event logs
                 sn




    f. Monitor power shelf LEDs
               Ki




Pass or Fail Criteria
            ik




>   Bus bar voltage is always within specifications after the first power shelf initiates
          R




    start-up.
>   Ramp-up rate (10% to 90%) is within 60 ms +/- 10%. No overshoot or ringing.


5.1.2           Rack Power Startup and Shutdown without
                PSC
Purpose
Verify that the server rack's power startup and shutdown behavior is within the bus bar
power specification when one of the power shelves does not have a PSC.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 71
                                                             L11 Server Rack Hardware Validation


Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test conditions
Test under the following input voltage conditions: 200, 208, 220, 240, 277, and 305 VAC.
Test with the following redundancy configurations:
>   All PSUs operational (N+1 per shelf, N+1 per rack)
>   PSUs in non-redundant configuration depending on the rack redundancy model (N+0)
Test Procedure




                                                                       VL
For each test condition follow these steps:




                                                                  -N
1. Turn on all PSU AC input at the same time
2. Turn on A-feed group or B-feed group staggard (if an N+N redundancy model),




                                                 s
                                            27 ab
   without specific delay time, between feed group powering




                                          0: L
3. Turn on on-whips 1-by-1 with at least 10-second delay between whips.




                                        :0 cle
4. Measure and record the following parameters for each test condition:

                                      16 r a
    a. Startup and shutdown sequence
                                    28 l O
    b. DC bus bar voltage
                                  1- ia
                               - 1 nt


    c. Vshare bus for power shelves
                             25 fide




    d. AC input current, AC input voltage
                           20 n




    e. PSC (power shelf controller) event logs
                         5 Co




    f. Monitor power shelf LEDs
                       39 IA




Pass or Fail Criteria
                     22 ID




>   Bus bar voltage is always within specifications after the first power shelf initiates
                  1 1 NV




    start-up.
                   ah




>   Ramp-up rate (10% to 90%) is within 60 ms +/- 10%. No overshoot or ringing.
                 sn
               Ki




5.1.3           Rack Power Load Voltage Regulators under
            ik
          R




                Static Load
Purpose
Verify bus bar power delivery and power balancing are stable across static load levels
while applying different static loads using test load sleds.
Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test conditions
Test under the following input voltage conditions: 200, 208, 220, 240, 277, and 305 VAC.


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 72
                                                           L11 Server Rack Hardware Validation


Test with the following static load conditions: 10%, 25%, 50%, 75%, or 100%
Test Procedure
For each test condition follow these steps:
1. Turn on all PSU AC inputs at the same time.
2. Apply static load conditions from the load sleds or electronic loads across different
   static load conditions.
3. Measure and record the following parameters for each test condition:
    a. DC bus bar voltage
    b. Vshare bus for power shelves
    c. AC input current, AC input voltage




                                                                     VL
    d. PSC (power shelf controller) event logs




                                                                -N
    e. Monitor power shelf LEDs




                                                 s
Pass or Fail Criteria




                                            27 ab
                                          0: L
Sharing tolerance for PSUs within common power shelf:




                                        :0 cle
>   +/- 5% (tentative) at 40% -100% load

                                      16 r a
>   +/- 7% (tentative) at 20% - 30% load
                                    28 l O
>   +/-10% (tentative) at 10% load
                                  1- ia
                               - 1 nt


Sharing tolerance for PSUs within common rack:
                             25 fide




>   +/-7% (tentative) at 40% -100% load
                           20 n




>   +/- 9% (tentative) at 20% - 30% load
                         5 Co




>   +/-12% (tentative) at 10% load
                       39 IA
                     22 ID




5.1.4           Rack Power Load Voltage Regulators under
                  1 1 NV




                Dynamic Load
                   ah
                 sn




Purpose
               Ki




Verify bus bar power delivery and power balancing are stable across static load levels,
            ik




while under dynamic loads using test load sleds.
          R




Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test conditions
Test under the following input voltage conditions: 200, 208, 220, 240, 277, and 305 VAC.
Test with the following load conditions:
>   Sweep from 10% - 90% load condition, with 50 ms-ON and 50 ms-OFF
>   Sweep from 30% - 100% load condition, with 50 ms-ON and 50 ms-OFF
>   Test to power shelf peak power rating with 50 ms-ON and 50 ms-OFF


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 73
                                                           L11 Server Rack Hardware Validation


Test with the following slew rates:
>   1 A/µs
>   6 A/µs
>   12 A/µs
Test Procedure
1. Apply the input voltage condition VAC
2. Program the electronic load to the designated slew rate (1 A/µs, 6 A/µs, or 12 A/µs)
3. Program the electronic load to sweep through each load condition with 50 ms-ON
   and 50 ms OFF pulse
4. Measure and record the following parameters for each test condition:




                                                                     VL
    a. DC bus bar voltage




                                                                -N
    b. Vshare bus for power shelves




                                                 s
    c. AC input current, AC input voltage




                                            27 ab
    d. PSC (power shelf controller) event logs




                                          0: L
                                        :0 cle
    e. Monitor power shelf LEDs


                                      16 r a
Pass or Fail Criteria               28 l O
Sharing tolerance for PSUs within common power shelf:
                                  1- ia

>   +/- 5% (tentative) at 40% -100% load
                               - 1 nt
                             25 fide



>   +/- 7% (tentative) at 20% -30% load
>   +/-10% (tentative) at 10% load
                           20 n
                         5 Co




Sharing tolerance for PSUs within common rack:
                       39 IA




>   +/-7% (tentative) at 40% -100% load
                     22 ID




>   +/- 9% (tentative) at 20% -30% load
                  1 1 NV




>   +/-12% (tentative) at 10% load
                   ah
                 sn




5.1.5           Rack Power Load Hot Swap PSU
               Ki




Purpose
             ik
          R




Verify that PSU modules can successfully be hot swapped in a power shelf without
interrupting the server rack system.
Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test conditions
Test under the following input voltage conditions: 240, 277, and 305 VAC.
For racks with N+N power redundancy, test with only N feeds.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 74
                                                           L11 Server Rack Hardware Validation


Test Procedure
1. Turn on the electronic load, and load the rack power system with 100% load
2. Hot swap PSU modules one at a time inside a power shelf while the rack is
   operational
3. Monitor and record PSU LED status and PSC status telemetry after hot swap
Pass or Fail Criteria
>   PSU modules can successfully be hot swapped in a power shelf without interrupting
    the system.
>   PSU and PSC should continue to regulate the bus bar voltage within range, with real-
    time current sharing, no OVP, UVP, OCP, or any other faults to be triggered due to
    interrupt or hiccup on the bus bar voltage.




                                                                     VL
>   No fault is registered in the PSU and PSC telemetry status.




                                                                  -N
>   All LEDs are showing the correct status.




                                                 s
                                            27 ab
                                          0: L
5.1.6           Rack Power Load Hot Swap PSC


                                        :0 cle
Purpose
                                      16 r a
                                    28 l O
Verify that PSC modules can successfully be hot swapped in a power shelf without
                                  1- ia

interrupting the server rack system.
                               - 1 nt


Prerequisite
                             25 fide




Partners can use test load sleds or electronic loads to draw power from the power shelf,
                           20 n
                         5 Co




instead of assembling the full server rack system.
                       39 IA




Test conditions
                     22 ID




Test under the following input voltage conditions: 240 VAC.
                  1 1 NV




Test Procedure
                   ah




1. Turn on the electronic load, and load the rack power system with 100% load
                 sn




2. Hot swap the PSC module inside a power shelf while the rack is operational
               Ki




3. Monitor and record neighboring PSU LED status
            ik
          R




Pass or Fail Criteria
>   PSU and PSC should continue to regulate the bus bar voltage within range, with real-
    time current sharing, no OVP, UVP, OCP, or any other faults to be triggered due to
    interrupt or hiccup on the bus bar voltage.
>   No fault is registered in the PSU and PSC telemetry status.
>   All power shelf LEDs are showing the correct status.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 75
                                                            L11 Server Rack Hardware Validation



5.1.7           Rack Power Fault Recovery
Purpose
Verify that power shelf protection and fault recovery features (OCT, OTP, brownout, and
OVP) work as expected.
Prerequisite
Partners can use test load sleds or electronic loads to draw power from the power shelf,
instead of assembling the full server rack system.
Test Conditions
Test under the following input voltage conditions: 240 VAC.




                                                                      VL
Test with the following load conditions:




                                                                 -N
>   10% - 90% dynamic load




                                                 s
                                            27 ab
>   100% static load




                                          0: L
Test Procedure




                                        :0 cle
1. OCP: While the rack is running at 100% static load, remove PSUs one by one until

                                      16 r a
   hitting OCP                      28 l O
2. OTP: Use thermal chamber, test with slow thermal ramp up to power shelf maximum
                                  1- ia

   rating. If a thermal chamber is not available, block airflow to the power shelf until
                               - 1 nt


   OTP.
                             25 fide




3. Brownout and Brown-in: Ramp the input voltage down until hitting brownout UVLO
                           20 n




   and PSU shuts down, then ramp voltage back up until brown-in recovery. Verify the
                         5 Co




   recovery feature is still in place for slow ramp (lasting several minutes) and fast ramp
                       39 IA




   (lasting several seconds).
                     22 ID




4. OVP: Ramp voltage up to power shelf OVP voltage after hitting fault reduce voltage.
                  1 1 NV




   Verify the protection feature is still in place for slow ramp (lasting several minutes)
   and fast ramp (lasting several seconds).
                   ah




5. For each power fault event, check for PSC event records. Verify the fault records are
                 sn




   reported correctly.
               Ki




6. Verify system can operate normally after the system reset and the faults are cleared.
            ik
          R




Pass or Fail Criteria
>   Bus bar power delivery should stay within its acceptable specification range until it
    turns off.
>   PSC should report faults as expected.
>   System operates normally, after faults are cleared and system is reset.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                   VG-12022-001_v09 | 76
                                                         L11 Server Rack Hardware Validation



5.1.8           Rack Power AC Apparent Power
Purpose
The Electrical Design Peak Point (EDPp) testing aims to measure the peak input power
within a near-instantaneous timescale, then calculate AC apparent power based on the
moving RMS voltage (based on one 60Hz AC cycle).
Peak input power occurs with high transient load, such as the pulse power workload in
the Partner Diagnostics.
L11 rack level EDPp test involves measuring input AC power, optional DC power and
optional ishare signal. Two 8-channel oscilloscopes might be required to probe AC
voltage and current and optional iShare or second power shelf AC input power. The




                                                                   VL
following figure is a block diagram of the test setup.




                                                              -N
                                                 s
Figure 5-1.       L11 Power Measurement Block Diagram




                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                VG-12022-001_v09 | 77
                                                                 L11 Server Rack Hardware Validation


Assumptions and Estimates
>   The efficiency, power factor, and power sharing among all power shelves are roughly
    the same.
>   The total L11 rack-level AC input power can be estimated as 4x (or 6x) that of a
    single power shelf.
Required Test Equipment
>   1x 8-channel oscilloscopes (for example, Tektronix 5 or 6 Series MSO B). A second 8-
    channel oscilloscope is optional for measuring the iShare and second power shelf
    input power.
>   Optional 1x coaxial cable (for synchronizing oscilloscopes together).
>   4x current probes (for example, Tektronix TCP0150 current probe); 7x current probes




                                                                           VL
    are optional for measuring second power shelf input power.




                                                                      -N
>   3x high-voltage differential probes (for example, Tektronix TMDP0200 High-Voltage




                                                 s
    Differential Probe); 6x high-voltage differential probes are optional for measuring




                                            27 ab
    second power shelf input power.




                                          0: L
>   1x low voltage differential voltage probe (for example, Tektronix TDP1500




                                        :0 cle
    Differential Probe).
>
                                      16 r a
    1x passive voltage probe (for example, Tektronix TP1000 Passive Voltage Probe).
                                    28 l O
>   1x sacrificial AC power whips; 2x sacrificial AC power whips are optional for
                                  1- ia
                               - 1 nt


    measuring input power on two power shelves.
                             25 fide




       Caution:
                           20 n




       >
                         5 Co




           DO NOT use probe ground on the AC input unless approved by a specialist familiar with
           the facility’s AC setup at the partner site.
                       39 IA




       >   High voltage differential voltage probes, such as the Tektronix TMDP0200, should be
                     22 ID




           used to probe the live AC input voltage. Differential voltage probes are used to cancel
                  1 1 NV




           out noise on the AC network.
       >   If passive probes were used to measure the hot wire compared to ground, then the
                   ah




           oscilloscope must be isolated from the AC network by power of the scope using
                 sn




           battery or isolating transformer.
               Ki
            ik




Modify AC Power Whip for AC Power Probing
           R




On the AC power cord, perform the following modifications:
1. Remove approximately 15 inches of the outer rubber insulator to reveal individual
   insulated conductors.
2. On the black, red, orange (hot), and white (neutral) wires, remove about 1/8-inch of
   insulation to expose the conductors.
3. Attach the positive lead (red) of a high-voltage differential probe to the black (hot)
   wire, and the negative lead (black) to the neutral (white) wire.
4. Apply Kapton tape around the probes and exposed wires.
5. Place 3x current probes and apply second Kapton tape around the probes to secure
   all the current probes and voltage probing leads.



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                        VG-12022-001_v09 | 78
                                              L11 Server Rack Hardware Validation


Figure 5-2.       Power Whip Wiring Diagram




                                                        VL
                                                   -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                     VG-12022-001_v09 | 79
                                                     L11 Server Rack Hardware Validation


Figure 5-3.       Current Probes and Voltage Probes Setup and Power Whip




                                                               VL
                                                          -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                            VG-12022-001_v09 | 80
                                                          L11 Server Rack Hardware Validation


Prepare Compute Tray PDB for DC Power Probing (Optional)
1. (Optional) Open the compute cover and add voltage probing leads and twisted pair
   wires to the PDB.
2. (Optional) Place the current probe to the wires from the bus bar connectors to the
   PDB.




                                                                    VL
                                                               -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn




3. (Optional) Customize the white Corrugated Twinwall Plastic to cover the top of the
               Ki




   compute tray while leaving an opening for the current probe.
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 81
                                                           L11 Server Rack Hardware Validation


4. (Optional) Install the reworked compute tray back to the top tray position
Connect AC Probes
Do the following per power shelf:
1. Verify the power whip top box is off.
2. Attach a modified AC power whip to the power shelf.
3. Reconnect the differential voltage probe heads to the main part of the probe.
4. Attach a current probe around the exposed black (hot) wire (not around the isolated
   bundle), with the arrow on the probe pointing towards the system.
5. Connect the current probe to the scope.
6. While no voltage and current in the DUT whip, conduct current probe degauss auto-




                                                                     VL
   zero and optional scope compensation (SPC).




                                                                -N
Figure 5-4.       Connected Power Cable and Current Probe Attachments Example




                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




Setup the Oscilloscope (Optional for the Second Oscilloscope)
1. (Optional) Place the two scopes on carts adjacent to the system.
2. (Optional) Connect the coaxial cable to the “Aux Out” port on the primary scope to
   the “Ref In” port on the secondary scope.
3. (Optional) On the primary scope’s toolbar, select Utility  I/O and use the “Reference
   Clock” option under “AUX Out Signal.”




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 82
                                                              L11 Server Rack Hardware Validation


4. (Optional) On the secondary scope, open the acquisition menu and select “External
   (10 MHz)” under “Timebase Reference Source.”




                                                                        VL
                                                                    -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
       Note: If using 2x 4-channel scopes, two additional requirements must be met:
                                  1- ia
                               - 1 nt


       >   The scopes’ sampling clocks need to be synchronized through wiring and configured
                             25 fide



           according to each scope’s manual.
       >   Each scope should dedicate one channel to measure DC voltage, allowing for the
                           20 n
                         5 Co




           calculation of the time offset between the two scopes.
                       39 IA




5. Connect voltage and current probes to the scopes.
                     22 ID




6. On the scopes, configure the following sample rate and record length. The horizontal
                  1 1 NV




   scale could be set at 200 second/div to obtain the max sampling duration of 2000-
   seconds.
                   ah
                 sn
               Ki
            ik
           R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 83
                                                          L11 Server Rack Hardware Validation


7. Channel setup:
    a. 6x channels for 3-phase AC input voltage and current.
    b. 2x channels for DC bus bar voltage and current.
    c. All 8x channels must be synchronized for transient power analysis. An 8x channel
       scope should be acquired or leased.
8. On the oscilloscope, add labels for each channel and set up the scale and position.
   See Section 6.2 “Input EDPp Post-Processing Guideline” for additional information.




                                                                    VL
                                                               -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID




Setting up the Power Pulse Diag Workload
                  1 1 NV




Use a remote server to run the L11 Partner Diagnostics power pulse diagnostics. Run
the CPU and GPU power pulse stress workload for 15 minutes.
                   ah
                 sn




Data Processing and Interpreting Results
               Ki




1. Monitor and capture the waveforms for AC voltage current, optional DC voltage, and
            ik




   system power.
          R




2. Perform power analysis on the captured waveform for the moving average and
   apparent power. See Section 6.2 “Input EDPp Post-Processing Guideline” for
   additional information.
Pass or Fail Criteria
Verify the maximum apparent power is within the specification listed in the NVIDIA
GB200 and GB300 NVL72 Rack System Specifications (NVOnline: 1117886 and 1126548).




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                 VG-12022-001_v09 | 84
                                                           L11 Server Rack Hardware Validation



5.1.9           Rack Power Noise
Purpose
Verify that the power shelf output voltage is within maximum ripple and noise. Maximum
voltage noise should be less than 5.5V peak-to-peak under the load frequencies.
Prerequisite
Partners must use a fully populated rack system for this test.
Test Conditions
Test under the following input voltage conditions: 208, 240, and 277 VAC.




                                                                     VL
Test Procedure
1. Run CPU and GPU power pulse stress workload from the GB200 and GB300 NVL72




                                                                  -N
   L11 Partner Manufacturing Diagnostics.




                                                 s
                                            27 ab
2. Monitor and capture the waveforms for the power shelf output to the entire rack
   using an oscilloscope with the highest sampling rate allowed.




                                          0: L
                                        :0 cle
3. Measure the DC bus bar voltage (Vin) peak-to-peak value.


                                      16 r a
4. Monitor PSC event logs for any faults or warnings.
                                    28 l O
Pass or Fail Criteria
                                  1- ia
                               - 1 nt


Verify that the maximum DC bus bar voltage (Vin) peak-to-peak value is less than 5.5V.
                             25 fide




5.1.10          Rack Power Firmware Update
                           20 n
                         5 Co




Purpose
                       39 IA
                     22 ID




Verify that the power shelf PSUs and PSC can successfully perform firmware updates
                  1 1 NV




and firmware downgrades.
Prerequisite
                   ah
                 sn




Partners can test without any compute tray or switch tray.
               Ki




Test Conditions
            ik




>   Test under the following input voltage conditions: 240 VAC.
          R




>   Loading: 100% of N+0 rating. If N+N system, then operate with a single feed while
    testing.
Test Procedure
1. Upgrade or downgrade a single PSU at a time. Verify that each PSU firmware can be
   updated successfully.
2. Upgrade or downgrade 2x PSUs at a time. Verify that both PSUs have the correct
   firmware flashed
3. Upgrade or downgrade PSC one at a time. Verify both primary and secondary
   firmware flashed correctly.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 85
                                                           L11 Server Rack Hardware Validation


Pass or Fail Criteria
PSUs and PSCs should upgrade and downgrade successfully without failures.


5.1.11          PSC Reboot Cycles
Purpose
Verify that the PSC (power supply controller) reboot cycle does not affect power
delivery.
Prerequisite
Partners can utilize test load sleds or electronic loads to draw power from the power




                                                                     VL
shelf, instead of assembling the full server rack system.




                                                                  -N
Test Conditions




                                                 s
>   Test under the following input voltage conditions: 240 VAC.




                                            27 ab
>   Loading: 100% of N+0 rating. If N+N system, then operate with a single feed while




                                          0: L
    testing.




                                        :0 cle
                                      16 r a
Test Procedure                      28 l O
1. Reboot the PSC one at a time.
                                  1- ia

2. During reboot, monitor the DC bus bar voltage and verify that the bus bar power
                               - 1 nt


   remains stable during and after each reboot.
                             25 fide




3. Read PSC status telemetry after each reboot. Verify there are no errors.
                           20 n
                         5 Co




Pass or Fail Criteria
Bus bar power delivery remains stable during and after each PSC reboot.
                       39 IA
                     22 ID
                  1 1 NV




5.1.12          Rack Power Factor
                   ah




Purpose
                 sn




Power factor measures how efficiently the power supply converts electrical power into
               Ki




usable power for the server. This test is to measure the power factor of the rack power
            ik




supply under various load conditions.
          R




Prerequisite
Partners must use a fully populated rack system for this test.
Test Conditions
Test with the following load conditions:
>   Static light load
>   Static heavy load
>   Dynamic load at low frequency (CPU and GPU power pulse stress at low frequency)




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                  VG-12022-001_v09 | 86
                                                                    L11 Server Rack Hardware Validation


Test Procedure
1. Run the server rack under each load condition: static light load, static heavy load, and
   dynamic load at low frequency.
2. Measure the 3-phase AC voltage and current (sampling rate 100 µs/pt) using an
   oscilloscope
3. Perform power factor calculation with 1, 2, 3, 5, 10, or 60 cycles (60 Hz per cycle).
   Power factor calculation should be done with the power drawn by the server divided
   by the product of the 3-phase voltage and current
Pass or Fail Criteria
>     Power factor for static light load should be greater than 0.90.
>     Power factor for static heavy load should be greater than 0.95.




                                                                                 VL
>     Power factor for dynamic load at low frequency should be greater than 0.85.




                                                                          -N
                                                  s
                                             27 ab
5.2             L11 Environmental, Reliability


                                           0: L
                                         :0 cle
NVIDIA recognizes the diversity of potential use cases that system partners may

                                       16 r a
encounter. The following test lists are the guidance from NVIDIA for the areas
                                     28 l O
concerning environmental factors, reliability, and robustness.
                                   1- ia

Partners are responsible for validating the system packaging, reliability, and
                                - 1 nt
                              25 fide



environmental testing to meet their target deployment.
Partners are recommended to modify or conduct additional testing that may be
                            20 n
                          5 Co




necessary for their specific use case and ensure that all potential scenarios are
addressed appropriately.
                        39 IA
                      22 ID
                   1 1 NV




5.2.1           L11 Packaging
                    ah




Purpose
                  sn




The purpose of performing package testing is to ensure that the packaged rack system
                Ki




can withstand the physical stress it may encounter during transportation, storage, and
             ik




handling.
           R




Test Procedure
Partners should test to the industrial test standards of ISTA. Perform the test items in
the following table using the standards highlighted in the “Reference” column.

Table 5-1.        L11 Packaging Test Summary
 ID           Subcategory             Test Item Description                       Test Procedure
              Package/Product         Run functional test on the product using
              Visual Inspection and   the latest manufacturing diagnostic.        Visual inspection and MFG
 RPK.1
              Product Functional      Perform visual inspection and record all    Diagnostics
              PRE-Test                noted cosmetic observations




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 87
                                                                        L11 Server Rack Hardware Validation


 ID           Subcategory              Test Item Description                           Test Procedure
                                       Packaged product shall be preconditioned
              Atmospheric Pre-
 RPK.2                                 to laboratory ambient temperature and           ISTA 3B, Block #1
              Conditioning
                                       humidity for minimum of 12 hours
              Atmospheric              [Hot, Humid] then [Extreme Heat,
              Conditioning (Required   Moderate RH]
 RPK.3                                                                                 ISTA 3B, Block #1
              only for non rigid       [38°C, 85% RH for 72 hours] then [60°C,
              containers)              30% RH for 6 hours]
                                       Test up to 22-degree angle, without letting
                                       fall. Report on center of gravity tilt angle.
                                       If packaged product fails this test, DO NOT
 RPK.4        Tip Test                                                                 ISTA 3B, Block #2
                                       let it fall to the floor.




                                                                                  VL
                                       Gently return the product to upright
                                       position and note failure. Continue testing.




                                                                               -N
              Shock – Rotational       Drop height 6 in (150 mm) for packaged
 RPK.5                                                                                 ISTA 3B, Block #5




                                                  s
              Drop                     products weighing 500 lb (230 Kg) or more




                                             27 ab
              Shock – Incline or       Impact velocity 48 in/sec (1.2 m/sec)




                                           0: L
 RPK.6                                                                                 ISTA 3B, Block #6
              Horizontal Impact        minimum or 3 in (76 mm) drops




                                         :0 cle
              Truck Vibration -
 RPK.7                                 Overall 0.54 Grms, 120 minutes                  ISTA 3B, Block #9

                                       16 r a
              Random with top load   28 l O
                                       Combination of High (0.29 Grms), Medium
                                                                                       ASTM D4169-23, section
                                   1- ia

 RPK.8        Air Vibration - Random   (0.22 Grms) and Low (0.16 Grms) air profile;
                                                                                       12.4.2.2
                                - 1 nt


                                       120 minutes
                              25 fide



              Concentrated Impact
 RPK.9        (Required only for non   Free-fall, or guided fall drop                  ISTA 3B, Block #10
                            20 n
                          5 Co




              rigid containers)
              Fork Lift Handling       Flat Push and Rotate Tests, Elevated Push
                        39 IA




 RPK.10       (Required only for non   and Pull Tests, Elevated Rotate Tests, Load     ISTA 3B, Block #15
                      22 ID




              rigid containers)        stability test over a handling course.
                   1 1 NV




              Shock – Rotational       Drop height 6 in (150 mm) for packaged
 RPK.11                                                                                ISTA 3B, Block #13
              Drop                     products weighing 500 lb (230 Kg) or more
                    ah
                  sn
                Ki




Pass or Fail Criteria
             ik




Test items in Table 5-1 are completed, such that the product did not sustain any damage
           R




and met the ISTA requirements.
>     Product is damage-free; no structural damage including no detached, loose,
      fractured, or deformed material parts.
>     Product cosmetic areas are not degraded beyond manufacturing or final acceptance
      criteria. Cosmetic damage is any abnormality that makes the product unacceptable
      to the customer.
>     No conductive particles (wire, connectors, and so on) should be exposed because of
      the testing.
>     The product should meet all manufacturing specifications and tolerances after
      testing



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                 VG-12022-001_v09 | 88
                                                                          L11 Server Rack Hardware Validation


>     All the product electrical and software functions perform to specification


5.2.2            L11 Shock and Vibration Test
Purpose
The purpose of shock and vibration testing is to ensure that the rack system can
withstand physical stress during transportation, handling, and operation. The testing
simulates the effects of sudden impacts and continuous or repetitive movements to
verify the compute tray's durability and functionality.
Test Procedure




                                                                                    VL
Perform the test items in the following table using the standards highlighted in the
Reference column.




                                                                               -N
                                                  s
Table 5-2.         L11 Shock and Vibration Test Summary




                                             27 ab
                                           0: L
 ID         Subcategory              Test Item Description                          Expected Results




                                         :0 cle
 RSV.1      Rack SV Vibration        Freq Hz / PSD level (G2/Hz) / Slop             No permanent system


                                       16 r a
            Random Operating         (dB/oct)
                                     28 l O                                         damage, no parts or
                                     5 - 10   / -     / +12                         connectors dislodged, and
                                                                                    system stays operational
                                   1- ia

                                     10 - 50 / 0.0002 / -
                                - 1 nt


                                     50 - 100 /     - / -12
                              25 fide




                                     30 mins / per axes ; 3 axes 0.108 Grms
                            20 n




 RSV.6      Rack SV Handling         Roll over a 4mm vertical step with each        This can be done
                          5 Co




            Obstacle                 caster independently at 0.8m/s, 5 times        successfully without
                                     each                                           damage or needing
                        39 IA




                                                                                    special equipment and
                      22 ID




                                                                                    meets specification
                   1 1 NV




 RSV.7      Rack SV Handling Gap     Traverse 25.4mm wide gap in the floor at       This can be done
                    ah




                                     0.5m/s, 5 times                                successfully without
                                                                                    damage or needing
                  sn




                                                                                    special equipment and
                Ki




                                                                                    meets specification
             ik




 RSV.8      Rack SV Handling Ramp    Transition a 5-degree ramp both up and         This can be done
           R




                                     down. From a flat surface, traverse a 5        successfully without
                                     degree ramp up to an elevated flat             damage or needing
                                     surface. From an elevated flat surface,        special equipment and
                                     traverse down a 5-degree ramp down to          meets specification
                                     a flat surface.
 RSV.9      Rack SV Handling Roll-   19mm, 5 times per direction (with front        This can be done
            off                      leading and then with rear leading)            successfully without
                                                                                    damage or needing
                                                                                    special equipment and
                                                                                    meets specification
 RSV.10     Rack SV Handling         Roll 800m on a concrete floor at 0.8m/s,       This can be done
            Distance Roll            without stopping for prescribed                successfully without
                                     distance. After completing the four tests



NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                 VG-12022-001_v09 | 89
                                                                     L11 Server Rack Hardware Validation


 ID        Subcategory             Test Item Description                         Expected Results
                                   above, the force (kgw) required to push       damage or needing
                                   the rack from a non-moving position           special equipment
                                   along a smooth, flat cement floor SHALL
                                   be less than 5% the total combined
                                   weight (kgw) of the rack and IT Gear.
 RSV.11    Rack SV Handling Tilt   Tilted to an angle of 10 degrees from its     This can be done
                                   normal upright position and held in this      successfully without
                                   position for 1 minute. Repeated for all       damage and meets
                                   four sides (front, back, left, right).        specification.
                                   (1) Test with maximum payload, evenly
                                   distributed in rack. Add-on stabilizers
                                   MAY be used to meet this requirement




                                                                                 VL
                                   for rack at max payload.




                                                                             -N
                                   (2) base rack with no payload SHALL also
                                   pass with no stabilizer




                                                 s
                                            27 ab
 RSV.12    Rack SV Handling        Leveling feet SHALL be raised and             This can be done




                                          0: L
           Leveling                lowered 3 cycles individually to raise rack   successfully without




                                        :0 cle
                                   to 15 mm off the floor until all 4 are        damage and meets
                                   raised. Start with front left, then rear      specification.


                                      16 r a
                                   right, rear left, and finally front left.
                                    28 l O
                                   Lower in reverse order. Repeat for 3
                                  1- ia

                                   cycles.
                               - 1 nt


 RSV.13    Rack SV Handling        While in its normal position on a flat        This can be done
                             25 fide



           Lateral Load            surface, with casters rotated towards         successfully without
                                   the surface, a force equal to 20 percent      damage or falling over.
                           20 n




                                   of the weight of the fully loaded
                         5 Co




                                   enclosure system, but not more than
                       39 IA




                                   250 N (56.2 lbf), is applied in any
                     22 ID




                                   direction except upwards, at a height not
                                   exceeding 2 m (78.74 in) from the floor.
                  1 1 NV




                                   The force is applied to the front, back,
                                   and each side of the system, each for 1
                   ah




                                   minute.
                 sn




 RSV.14    Rack NVLink Traffic +   Run the L11 Diag traffic test on the rack     Relevant test workload is
               Ki




           Stress Test after SV                                                  passing.
            ik
          R




Pass or Fail Criteria
Test items in Table 5-2 are completed and passed.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                             VG-12022-001_v09 | 90
                                                                    L11 Server Rack Hardware Validation



5.2.3           L11 Environmental Reliability Test
Purpose
The purpose of the environmental reliability test is to evaluate the hardware's ability to
operate effectively and reliably under various environmental conditions, such as
temperature extremes, humidity, and altitude.
Test Procedure
Perform the test items in the following table using the test conditions outlined in the
table.




                                                                              VL
Table 5-3.         L11 Reliability Test Summary




                                                                           -N
 ID        Subcategory             Test Item Description                      Expected Results
 RL.1      Rack Reliability Pre    No device missing and diag must pass.      The system is stable and




                                                  s
                                             27 ab
           Baseline                                                           passes all tests.




                                           0: L
 RL.2      Rack Reliability        1. 25°C, 50% RH for 1 hour                 No permanent system




                                         :0 cle
           Temperature and         2. -40°C, No Humidity control for 16       damage or degradation.
           Humidity (Non-

                                       16 r a
                                   hours
           operating)
                                     28 l O
                                   3. 70°C, 5% RH for 16 hours
                                   1- ia

                                   4. 70°C, 95% RH for 16 hours
                                - 1 nt


                                   5. 40°C, 93% RH for 96 hours
                              25 fide



                                   6. 25°C, 50% RH for 4 hour
                            20 n




                                   7. Max Ramp rate : 20°C per hour; 20%
                          5 Co




                                   RH/hr
 RL.3      Rack Reliability        1. 25°C, 50% RH for 1 hour                 No permanent system
                        39 IA




           Temperature and                                                    damage or degradation.
                      22 ID




                                   2. 0°C, No Humidity control for 24 hours
           Humidity (Operating)                                               Liquid cooled: max
                   1 1 NV




                                   3. Max Temp°C, 50% RH for 24 hours
                                                                              temperature per design
                                   4. 31°C, 85% RH for 24 hours
                                                                              spec (condensation must
                    ah




                                   5. 25°C, 10% RH for 24 hours               be prevented).
                  sn




                                   6. Max Ramp rate: 10°C per hour; 10%
                Ki




                                   RH/hr
             ik




 RL.4      Rack Reliability        50 cycles / 0F                             No permanent system
          R




           Connector Durability    Test system connectors: cable cartridge,   damage or degradation
                                   PSUs, and network ports
 RL.5      Rack Reliability        50 cycles / 0F                             No connector damage or
           Manifold Mate           Test trays and manifold connection         leakage
           Durability
 RL.6      Rack Reliability Hard   1. 0°C for 500 power shelf AC cycles       No boot failures and no
           Boot low temperature    2. 500 cyc / 2F                            permanent system
                                                                              damage or degradation.
                                   (Condensation must be prevented)
 RL.7      Rack Reliability Hard   1. Max Temp °C, 50% RH for 500 power       No boot failures and no
           Boot high temperature   shelf AC cycles                            permanent system
                                   2. 500 cyc / 2F                            damage or degradation.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 91
                                                                    L11 Server Rack Hardware Validation


 ID        Subcategory              Test Item Description                      Expected Results
 RL.13     Rack Reliability Soft    1. 0°C for 500 boot cycles
           Boot (OS reboot) low     2. 500 cyc / 3F
           temp
                                    (Condensation must be prevented)
 RL.14     Rack Reliability Soft    1. Max Temp °C, 50% RH for 500 boot
           Boot (OS reboot) high    cycles
           temperature              2. 500 cyc / 3F
 RL.8      Rack Reliability Soak    1. 25°C for 3000 power shelf boot cycles   No boot failures and no
           and Boot low temp        2. 3000 cyc / 6F                           permanent system
                                                                               damage or degradation.
 RL.10     Rack Reliability CMTBF   Telcordia SR-332 Issue 4                   Ensure system CMTBF




                                                                               VL
           Analysis                 Method I, Case 1                           meets expectations, and
                                                                               if there are preventable




                                                                            -N
                                    25°C and max temp °C
                                                                               failures, those are
                                    Ground Benign operating environment        highlighted.




                                                  s
                                             27 ab
 RL.12     Rack Reliability Post    No device missing and diag must pass.      The system is stable and




                                           0: L
           Baseline                                                            passes all tests, and




                                         :0 cle
                                                                               performance is equivalent
                                                                               to the pretest baseline.

                                       16 r a
                                     28 l O
                                   1- ia

Pass or Fail Criteria
                                - 1 nt
                              25 fide



The test items in Table 5-3 are completed and passed.
                            20 n
                          5 Co
                        39 IA
                      22 ID
                   1 1 NV
                    ah
                  sn
                Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                           VG-12022-001_v09 | 92
Chapter 6. Appendix 1: Oscilloscope
           Acquisition Modes for EDPp
           Measurements




                                                                  VL
                                                              -N
                                                 s
6.1             Moving Average Measurement using



                                            27 ab
                                          0: L
                Oscilloscope HiRes Mode

                                        :0 cle
                                      16 r a
When using the “High Res” acquisition for input EDPp measurement, the oscilloscope
                                    28 l O
acquisition mode to “High Res” or “Hi Res” mode.
                                  1- ia
                               - 1 nt


The “High Res” mode in most oscilloscopes oversamples and calculates the average of all
                             25 fide



the samples for each acquisition interval. Input EDPp current and power measurements
can be performed via the “HiRes” mode, as this mode performs a boxcar averaging on
                           20 n
                         5 Co




the samples within an acquisition interval.
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                              VG-12022-001_v09 | 93
                                 Appendix 1: Oscilloscope Acquisition Modes for EDPp Measurements


Figure 6-1.       Acquisition Mode




                                                                        VL
                                                                    -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co




For example, a 5 kS/ s interval equates to a 200 µs/pt moving average timescale, and 10
                       39 IA




kS/ s interval equates to a 400 µs/pt moving average timescale.
                     22 ID
                  1 1 NV




Oscilloscope settings for 200 µs timescale moving average measurement
>   X-Axis (suggested): 20 ms/division or custom to capture the transient
                   ah




>   Y-Axis (suggested): 5 A/division or 10 A/division based on the maximum expected
                 sn




    current transient level
               Ki




>   Trigger: Set as edge trigger. First, determine the “idle” current level using AUTO
            ik




    trigger. A good edge trigger level will be between the idle limit and the expected
          R




    average power capping limit to capture the initial spike.
>   Persistence mode: Off
>   Vertical setting: Channel 1/2/3/4
    •   Set termination to 50 ohm and bandwidth to 20 MHz to reduce noise
>   Horizontal/ Acquisition tab: Acquisition
    •   Set acquisition mode to “High Res,” set Fast Acquisition mode to Off, set Roll
        Mode to Off, and Sampling Mode to Real-Time.
>   “HiRes” Averaging: 200 µs/pt
The following image shows an example oscilloscope setting for a 200 µs moving average
timescale measurement.


NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                     VG-12022-001_v09 | 94
                                                                Appendix 1: Oscilloscope Acquisition Modes for EDPp Measurements


Figure 6-2.                 Oscilloscope Setting 200 µs Moving Average Example




6.2                    Input EDPp Post-Processing
                       Guideline
When using the post-processing technique for input EDPp calculation, the oscilloscope




                                                                                                                                   VL
acquisition mode to sample mode. When performing input EDPp moving average




                                                                                                                            -N
analysis on captured oscilloscope waveform files (*.wfm), the following procedures can
be implemented programmatically for input EDPp analysis.




                                                         s
                                                    27 ab
1. Waveform Data Loading and Processing:




                                                  0: L
    a. Load waveform data from multiple .wfm files, representing current and voltage




                                                :0 cle
       waveforms for both DC and AC.

                                              16 r a
    b. Calculate the start and stop times for data extraction based on user-defined
                                            28 l O
       stop/start parameters. For example,
                                          1- ia

    c. Set up scope sampling rates, horizontal/vertical scales, and other parameters
                                       - 1 nt


       required for processing the waveform data. For example, a good sampling rate
                                     25 fide




       for input EDPp analysis is 100 µs/pt with a total record length of 1500 seconds
                                   20 n




       (150 second per horizontal division). A sampling rate of 100 µs/pt means that the
                                 5 Co




       sampling frequency is 10,000 samples per second. As a result, the moving
                               39 IA




       average window and the number of samples can be determined by the following
                             22 ID




       formulas:
                          1 1 NV




                                                                                        1
         𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆 𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠 𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓𝑓 =
                                                            𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅 𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆 𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆 𝑅𝑅𝑅𝑅𝑅𝑅𝑅𝑅
                           ah




         𝑁𝑁𝑁𝑁𝑁𝑁𝑁𝑁𝑁𝑁𝑁𝑁 𝑜𝑜𝑜𝑜 𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠 𝑝𝑝𝑝𝑝𝑝𝑝 𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤 = 𝑀𝑀𝑀𝑀𝑀𝑀𝑀𝑀𝑀𝑀𝑀𝑀 𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎𝑎 𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤𝑤 (𝑠𝑠𝑠𝑠𝑠𝑠) ∗ 𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆𝑆 𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹𝐹 (𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠𝑠/𝑠𝑠𝑠𝑠𝑠𝑠)
                         sn
                       Ki




Table 6-1.                  Input EDPp and Samples per Window in Sample Mode
                 ik
             R




                           Moving                                                                                                                    Number of
                           Average                          Scope Sampling                         Scope Sampling Frequency                          Samples per
 Timescale                 Window                           Rate                                   (Hz)                                              Window
 Input EDPc                1 second                         100 µs/pt                              10,000 Hz                                         10,000
 Input EDPp1               50 ms                            100 µs/pt                              10,000 Hz                                         500
 Input EDPp1               50 ms                            40 µs/pt                               25,000 Hz                                         1250
 Input EDPp2               400 µs                           100 µs/pt                              10,000 Hz                                         4
 Other                     20 ms                            100 µs/pt                              10,000 Hz                                         200




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                                                                                  VG-12022-001_v09 | 95
                                  Appendix 1: Oscilloscope Acquisition Modes for EDPp Measurements


2. Data Extraction and Scaling:
    a. Extracts specific data segments based on calculated start times, scales, and
       offsets.
    b. Processes each loaded waveform for each channel (current_ch1, current_ch2,
       voltage_ch1, and so on) to fit within the desired time span and resolution.
3. Instantaneous Power Calculation:
    a. Computes instantaneous AC power for each waveform by multiplying voltage and
       current measured on input AC lines (for example, Instantaneous AC power = AC
       Voltage * AC Current).
    b. Calculates the total instantaneous AC power by summing all individual power
       values from each phase.




                                                                         VL
    c. Computes instantaneous DC power from DC voltage and current data.




                                                                     -N
4. AC Apparent Power Analysis for AC Power and Peak Calculations:




                                                 s
    a. Calculates the apparent power (RMS voltage multiplied by RMS current) for each




                                            27 ab
       AC voltage/ current channel and stores its value.




                                          0: L
    b. Determines the maximum apparent power over 1x AC cycle (60 Hz) for peak




                                        :0 cle
       apparent power analysis.

                                      16 r a
5. DC Power Analysis with Input EDPp Moving Average Windows:
                                    28 l O
    a. For DC power analysis, performs moving average input EDPp calculation for DC
                                  1- ia

       voltage and currents over each EDP time intervals (400 µs, 50 ms, 1 second).
                               - 1 nt
                             25 fide



    b. On the captured waveform values, perform a sliding window of samples, and
       perform averaging across all the values. Refer to Table 6-1. A simple moving
                           20 n
                         5 Co




       average algorithm example can be implemented as follows:
        # Define the window size for the moving average
                       39 IA




        window_size = 500
                     22 ID
                  1 1 NV




        # Initialize an empty list to store the moving averages
        moving_average = []
                   ah
                 sn




        # Calculate the moving average manually
               Ki




        for i in range(len(data) - window_size + 1):
            ik




            window = data[i:i + window_size]
          R




            window_average = np.mean(window)
            moving_average.append(window_average)

        # Convert the list to a numpy array
        moving_average = np.array(moving_average)


    c. DC input EDPp values should be less than the value provided in the product
       specification.
6. Plotting and data visualization:
    a. Creates a figure with multiple subplots, each showing data like apparent power
       and DC power over time.




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                      VG-12022-001_v09 | 96
                                Appendix 1: Oscilloscope Acquisition Modes for EDPp Measurements


    b. Uses the duty cycle and frequency parameters to title the plots, showing system
       information.
    c. Provides a visualization of apparent power across multiple power supply units, a
       DC power plot, and related data.
7. Summary Calculations:
    a. Finds the peak-to-peak voltage and current for DC power and the maximum
       values for apparent power and moving averages of DC power.




                                                                       VL
                                                                   -N
                                                 s
                                            27 ab
                                          0: L
                                        :0 cle
                                      16 r a
                                    28 l O
                                  1- ia
                               - 1 nt
                             25 fide
                           20 n
                         5 Co
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 97
Chapter 7. Appendix 2: Validation
           Leverage Guidance for
           GB300 NVL72 Systems




                                                                        VL
                                                                    -N
                                                 s
This chapter outlines the test items that can be leveraged from the GB200 NVL72 PVP




                                            27 ab
Test plan as part of the overall GB300 NVL72 qualification. If partners have performed




                                          0: L
the full PVP validation on the GB200 NVL72 system, then some of the test items can be




                                        :0 cle
leveraged from the GB200 and deemed as “Optional” as part of the GB300 NVL72

                                      16 r a
qualification.                      28 l O
As part of the PVP leverage guidance, a spreadsheet with a list of PVP test items that
                                  1- ia

can be leveraged from the GB200 NVL72 PVP is attached to this validation guide.
                               - 1 nt
                             25 fide



The attached file name is “GB_NVL72_PVP_Validation_Leverage_Guidance.nvzip.”
Download the .nvzip file to the local directory, rename the file to a .zip file, and unzip the
                           20 n
                         5 Co




file to extract the contents. See Section 1.4 for downloading details.
                       39 IA
                     22 ID
                  1 1 NV
                   ah
                 sn
               Ki
            ik
          R




NVIDIA CONFIDENTIAL
NVIDIA GB NVL72 System                                                    VG-12022-001_v09 | 98
Notice
This document is provided for information purposes only and shall not be regarded as a warranty of a certain functionality, condition, or quality
of a product. NVIDIA Corporation (“NVIDIA”) makes no representations or warranties, expressed or implied, as to the accuracy or completeness
of the information contained in this document and assumes no responsibility for any errors contained herein. NVIDIA shall have no liability for
the consequences or use of such information or for any infringement of patents or other rights of third parties that may result from its use.
This document is not a commitment to develop, release, or deliver any Material (defined below), code, or functionality.
NVIDIA reserves the right to make corrections, modifications, enhancements, improvements, and any other changes to this document, at any
time without notice.
Customer should obtain the latest relevant information before placing orders and should verify that such information is current and complete.
NVIDIA products are sold subject to the NVIDIA standard terms and conditions of sale supplied at the time of order acknowledgement, unless
otherwise agreed in an individual sales agreement signed by authorized representatives of NVIDIA and customer (“Terms of Sale”). NVIDIA
hereby expressly objects to applying any customer general terms and conditions with regards to the purchase of the NVIDIA product
referenced in this document. No contractual obligations are formed either directly or indirectly by this document.
NVIDIA products are not designed, authorized, or warranted to be suitable for use in medical, military, aircraft, space, or life support equipment,
nor in applications where failure or malfunction of the NVIDIA product can reasonably be expected to result in personal injury, death, or
property or environmental damage. NVIDIA accepts no liability for inclusion and/or use of NVIDIA products in such equipment or applications




                                                                                                              VL
and therefore such inclusion and/or use is at customer’s own risk.
NVIDIA makes no representation or warranty that products based on this document will be suitable for any specified use. Testing of all




                                                                                                        -N
parameters of each product is not necessarily performed by NVIDIA. It is customer’s sole responsibility to evaluate and determine the
applicability of any information contained in this document, ensure the product is suitable and fit for the application planned by customer,




                                                             s
and perform the necessary testing for the application in order to avoid a default of the application or the product. Weaknesses in customer’s




                                                        27 ab
product designs may affect the quality and reliability of the NVIDIA product and may result in additional or different conditions and/or




                                                      0: L
requirements beyond those contained in this document. NVIDIA accepts no liability related to any default, damage, costs, or problem which
may be based on or attributable to: (i) the use of the NVIDIA product in any manner that is contrary to this document or (ii) customer product




                                                    :0 cle
designs.



                                                  16 r a
No license, either expressed or implied, is granted under any NVIDIA patent right, copyright, or other NVIDIA intellectual property right under
this document. Information published by NVIDIA regarding third-party products or services does not constitute a license from NVIDIA to use
                                                28 l O
such products or services or a warranty or endorsement thereof. Use of such information may require a license from a third party under the
patents or other intellectual property rights of the third party, or a license from NVIDIA under the patents or other intellectual property rights
                                              1- ia

of NVIDIA.
                                           - 1 nt


Reproduction of information in this document is permissible only if approved in advance by NVIDIA in writing, reproduced without alteration
                                         25 fide



and in full compliance with all applicable export laws and regulations, and accompanied by all associated conditions, limitations, and notices.
THIS DOCUMENT AND ALL NVIDIA DESIGN SPECIFICATIONS, REFERENCE BOARDS, FILES, DRAWINGS, DIAGNOSTICS, LISTS, AND OTHER
                                       20 n




DOCUMENTS (TOGETHER AND SEPARATELY, “MATERIALS”) ARE BEING PROVIDED “AS IS.” NVIDIA MAKES NO WARRANTIES, EXPRESSED,
                                     5 Co




IMPLIED, STATUTORY, OR OTHERWISE WITH RESPECT TO THE MATERIALS, AND EXPRESSLY DISCLAIMS ALL IMPLIED WARRANTIES OF
NONINFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE. TO THE EXTENT NOT PROHIBITED BY LAW, IN NO
                                   39 IA




EVENT WILL NVIDIA BE LIABLE FOR ANY DAMAGES, INCLUDING WITHOUT LIMITATION ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL,
PUNITIVE, OR CONSEQUENTIAL DAMAGES, HOWEVER CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF ANY USE
                                 22 ID




OF THIS DOCUMENT, EVEN IF NVIDIA HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. Notwithstanding any damages that
                              1 1 NV




customer might incur for any reason whatsoever, NVIDIA’s aggregate and cumulative liability towards customer for the products described
herein shall be limited in accordance with the Terms of Sale for the product.
                               ah
                             sn




Trademarks
NVIDIA, the NVIDIA logo, BlueField, ConnectX, NVIDIA Grace, NVIDIA MGX, and NVLink are trademarks and/or registered trademarks of NVIDIA
                           Ki




Corporation in the U.S. and other countries. Other company and product names may be trademarks of the respective companies with which
                       ik




they are associated.
                    R




Arm
Arm, AMBA, and ARM Powered are registered trademarks of Arm Limited. Cortex, MPCore, and Mali are trademarks of Arm Limited. All other
brands or product names are the property of their respective holders. ʺArmʺ is used to represent ARM Holdings plc; its operating company
Arm Limited; and the regional subsidiaries Arm Inc.; Arm KK; Arm Korea Limited.; Arm Taiwan Limited; Arm France SAS; Arm Consulting
(Shanghai) Co. Ltd.; Arm Germany GmbH; Arm Embedded Technologies Pvt. Ltd.; Arm Norway, AS, and Arm Sweden AB.


Copyright
© 2024, 2025 NVIDIA Corporation. All rights reserved.




NVIDIA Corporation | 2788 San Tomas Expressway, Santa Clara, CA 95051
http://www.nvidia.com
